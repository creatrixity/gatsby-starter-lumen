{"componentChunkName":"component---src-templates-post-template-js","path":"/articles/pt-5-build-a-css-in-js-react-app-with-styled-components-and-priceline-design-system/","result":{"data":{"markdownRemark":{"id":"6e206345-518d-5a71-b9b8-4bd870a24353","html":"<p><img src=\"https://cdn.steemitimages.com/DQmPUQn4LHijN17yTvduRmxKBYK857G9K5fTLirQ5oHcoRP/InfiniteScrollFunctionality.gif\" alt=\"GIF animation of the Infinite Scroll in action\"></p>\n<p>Currently, we live in the era of dwindling patience. We expect our meals available quickly, so we visit the local fast food drive through for takeouts. We schedule automated order purchases with tools like Alexa and Google Home and sometimes, even skip the bus to visit our destinations with on-demand services like Uber and Lyft.</p>\n<p>As a result, we’ve adopted a set of behavioral patterns that shape our expectations when using applications. Studies have shown that users are willing to <a href=\"https://www.adweek.com/digital/study-consumers-will-abandon-apps-with-greater-than-six-second-load-times-infographic/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">abandon a site or app within 6 seconds of perceived non-responsiveness</a>.</p>\n<p>What does this mean for us as application developers? It means we either get our sites or apps faster or we lose users. It’s really important to note that users tend to be more interested in apps that <em>seem fast</em> even if they may not be orders of magnitude faster than the next guy’s app.</p>\n<p>Today, we’ll explore a few techniques for improving perceived responsiveness for apps. We’ll be looking at a few such techniques today (even though there are much more sophisticated and code intensive techniques out there). We’ll use a technique that is employed by some of the most popular apps available today. Stay with us to find out more.</p>\n<p><strong>Disclaimer:</strong></p>\n<p>This tutorial may be pretty challenging for a first time reader of this series. I sincerely recommend that visitors get at least a cursory gaze at the previous articles in this series for easier comprehension. Links to the previous articles are available at the end of this tutorial.</p>\n<h4 id=\"repository\" style=\"position:relative;\"><a href=\"#repository\" aria-label=\"repository permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Repository</h4>\n<p><a href=\"https://github.com/facebook/react\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">React Github Repository</a></p>\n<h4 id=\"tutorial-repository\" style=\"position:relative;\"><a href=\"#tutorial-repository\" aria-label=\"tutorial repository permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tutorial Repository</h4>\n<ul>\n<li><a href=\"https://github.com/creatrixity/fire-liners\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">FireLiners Github Repository Code</a></li>\n</ul>\n<h4 id=\"difficulty\" style=\"position:relative;\"><a href=\"#difficulty\" aria-label=\"difficulty permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Difficulty</h4>\n<ul>\n<li>Advanced</li>\n</ul>\n<h4 id=\"what-will-i-learn\" style=\"position:relative;\"><a href=\"#what-will-i-learn\" aria-label=\"what will i learn permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>What Will I Learn?</h4>\n<p>By the time we get to the end of this tutorial, you should be able to apply these techniques to your React apps:</p>\n<ul>\n<li>Implementing route based content filtering using React Router.</li>\n<li>Use JSON data as an in-app data store. We’ll be working extensively with JSON.</li>\n<li>Improving content loading times by delegating to Infinite Scroll.</li>\n<li>Hooking Infinite Scroll to our Redux store using sagas.</li>\n</ul>\n<h4 id=\"requirements\" style=\"position:relative;\"><a href=\"#requirements\" aria-label=\"requirements permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Requirements</h4>\n<ul>\n<li><a href=\"https://nodejs.org\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Node.js</a> 8.0 or greater.</li>\n<li><a href=\"https://npmjs.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">NPM</a> 3.0 or greater.</li>\n<li><a href=\"https://yarnpkg.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Yarn</a> package manager</li>\n<li><a href=\"https://github.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Git</a></li>\n<li><a href=\"https://github.com/creatrixity/fireliners\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">FireLiners Github Repository Code</a></li>\n<li>An intermediate level of <a href=\"https://reactjs.org\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ReactJS</a> knowledge.</li>\n<li><strong><a href=\"https://drive.google.com/open?id=1MGynQBcsi2tiVlVjrshlKZ_lTnm0K9lP\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Resource Assets for This Tutorial</a></strong></li>\n<li>Keen interest and patience.</li>\n</ul>\n<h3 id=\"brief-introduction\" style=\"position:relative;\"><a href=\"#brief-introduction\" aria-label=\"brief introduction permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Brief Introduction.</h3>\n<p>In the overview above, we briefly described our problem space and we also clearly outlined the techniques we hope to use to address said problems. Let’s address the first technique.</p>\n<h4 id=\"infinite-scroll\" style=\"position:relative;\"><a href=\"#infinite-scroll\" aria-label=\"infinite scroll permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Infinite Scroll:</h4>\n<p>Infinite scroll is a very popular performance technique for when you have a really long list of items to display to the user. It’s nearly ubiquitous these days. It’s currently employed in the most popular web and mobile apps available today.</p>\n<p>How does infinite scroll work? Well, its principle is really simple. You simply detect when you’re scrolling closer to the bottom of the screen and then you issue a request for additional information. It’s main drawback usually, is the loss of awareness upon destruction of the app instance.</p>\n<p>You can determine the position of the scroll by running calculations in the <code class=\"language-text\">window.onScroll</code> handler. You may also use the shiny new <code class=\"language-text\">IntersectionObserver</code> API that makes handling this way easier than the way it was done in the past.</p>\n<p>To save on time, we’ll be using the wonderful <a href=\"https://www.npmjs.com/package/react-infinite-scroll-component\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">react-infinite-scroll-component</code> package</a>. You can get it installed by running</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install --save react-infinite-scroll-component</code></pre></div>\n<p>With this React component now available, we should give ourselves a brief refreshing of the current app structure we’re employing.</p>\n<ul>\n<li>\n<p><strong>fire-liners/</strong></p>\n<ul>\n<li>config/…</li>\n<li>node_modules/…</li>\n<li>public/…</li>\n<li>scripts/…</li>\n<li><strong>src/</strong></li>\n<li>\n<p>assets/</p>\n<ul>\n<li>data/</li>\n<li>authors.json</li>\n<li>liners.json</li>\n<li>img/…</li>\n</ul>\n</li>\n<li>\n<p>components/</p>\n<ul>\n<li>Header/</li>\n<li>index.js</li>\n<li>logo.svg</li>\n</ul>\n</li>\n<li>\n<p>containers/</p>\n<ul>\n<li>App/</li>\n<li>App.test.js</li>\n<li>index.js</li>\n<li>constants.js</li>\n<li>reducer.js</li>\n</ul>\n</li>\n<li>\n<p>redux/</p>\n<ul>\n<li>reducerInjector.js</li>\n<li>reducers.js</li>\n<li>sagas.js</li>\n<li>store.js</li>\n</ul>\n</li>\n<li>\n<p>screens/</p>\n<ul>\n<li>AddLine /</li>\n<li>index.js</li>\n<li>actions.js</li>\n<li>Home /</li>\n<li>index.js</li>\n<li>constants.js</li>\n<li>actions.js</li>\n<li>Loading /</li>\n<li>index.js</li>\n</ul>\n</li>\n<li>\n<p>services/</p>\n<ul>\n<li>DataService/</li>\n<li>index.js</li>\n</ul>\n</li>\n<li>index.js</li>\n<li>registerServiceWorker.js</li>\n<li>package.json</li>\n</ul>\n</li>\n</ul>\n<p><strong>Important</strong>: Before we proceed, please remember to download the <a href=\"https://drive.google.com/open?id=1MGynQBcsi2tiVlVjrshlKZ_lTnm0K9lP\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">fireliners-resources.zip</code></a> file (listed under requirements) above that contains some resources we’ll be using for our tutorial. If you’ve done that, extract the contents of the <code class=\"language-text\">assets</code> folder within the <code class=\"language-text\">fire-liners.zip</code> to the <code class=\"language-text\">src/assets</code> directory.</p>\n<p>We’ll be refactoring our Data Service to get it ready for infinite scrolling.</p>\n<h4 id=\"refactoring-the-data-service\" style=\"position:relative;\"><a href=\"#refactoring-the-data-service\" aria-label=\"refactoring the data service permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Refactoring the Data Service.</h4>\n<p>Currently, our data service methods retrieve either all the data within our <code class=\"language-text\">liners.json</code> or just a particular item within the <code class=\"language-text\">liners.json</code> file. Our infinite scrolling should only load five items at any particular point in time.</p>\n<p><img src=\"https://cdn.steemitimages.com/DQmTyrmV9Ce3qnnvGf6u45fErdGTdmdVJDFvaVgnp2KKAHH/GetLinersData.png\" alt=\"getLinersData method shot\"></p>\n<p>Our new <code class=\"language-text\">getLinersData</code> method accepts a <code class=\"language-text\">config</code> object. If we specify an <code class=\"language-text\">id</code> property within the <code class=\"language-text\">config</code> object, we return only one item. We need to keep track of the data we’ll be selecting. For instance, we might need to request the first set of items within the range (1-5), then from ranges (5-10), you know stuff like that. We keep track using the <code class=\"language-text\">linersSetIndex</code> variable. The values within this variable would usually be 1, 2, 3…</p>\n<p>Finally, we use the <code class=\"language-text\">linersData.slice</code> method to ‘select’ out the items we’re interested in.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getLinersData</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">config</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// If we only need one item from our liners data.</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> liner <span class=\"token operator\">=</span> linersData<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">liner</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> liner<span class=\"token punctuation\">.</span>id <span class=\"token operator\">===</span> config<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>liner<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// We track the current set of liners we'd like to load through this variable.</span>\n  <span class=\"token keyword\">let</span> linersSetIndex <span class=\"token operator\">=</span> config<span class=\"token punctuation\">.</span>linersSetIndex <span class=\"token operator\">?</span> config<span class=\"token punctuation\">.</span>linersSetIndex <span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Since we're only loading 5 items at a time.</span>\n  <span class=\"token keyword\">let</span> resultsIndex <span class=\"token operator\">=</span> linersSetIndex <span class=\"token operator\">*</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// We select the range of items we're interested in.</span>\n  <span class=\"token comment\">// Could be all items for index 5 to index 10</span>\n  <span class=\"token keyword\">let</span> data <span class=\"token operator\">=</span> linersData<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span>resultsIndex<span class=\"token punctuation\">,</span> resultsIndex <span class=\"token operator\">+</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Also, we should create a method that returns the total number of items in our <code class=\"language-text\">liners.json</code> file.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getLinersTotal</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> linersData<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span></code></pre></div>\n<h4 id=\"adding-infinite-scroll-functionality\" style=\"position:relative;\"><a href=\"#adding-infinite-scroll-functionality\" aria-label=\"adding infinite scroll functionality permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Adding Infinite Scroll Functionality.</h4>\n<p>We’ll need to modify our <code class=\"language-text\">HomeScreen</code> component to support infinite scrolling. We’ll add two dependencies to the top of the <code class=\"language-text\">src/screens/Home</code> class. We’re simply importing the <code class=\"language-text\">InfiniteScroll</code> component and the <code class=\"language-text\">getLinersTotal</code> method from the data service.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> InfiniteScroll <span class=\"token keyword\">from</span> <span class=\"token string\">'react-infinite-scroll-component'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> getLinersTotal <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../../services/DataService'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Next, we set up our <code class=\"language-text\">constructor</code> method. We define some local state for this component. We set the previously mentioned <code class=\"language-text\">linersSetIndex</code> property to default to <code class=\"language-text\">0</code>. We also need a means of checking to see if we’ve still got more items that we’re yet to load. We can track that by using the boolean <code class=\"language-text\">hasMore</code> property that we’ll set to <code class=\"language-text\">true</code> by default.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Home</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ...Previous code here.</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      linersSetIndex<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n      hasMoreItems<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n      linersTotal<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">//... More code here</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><img src=\"https://cdn.steemitimages.com/DQmPNoCVTJ2WfM2wwEJ11bxg49bFF2DhKSsinhwN9fUKWzX/HomeComponentDidMount.png\" alt=\"Home ComponentDidMount code shot\"></p>\n<p>We also need to run some tasks when the component mounts. We first check to see if we’ve got any liners in the Redux store. If we do, then we don’t need to run any other tasks. If that’s not the case, we get the total number of liners available to us (in this case, 30 liners). We then keep the value returned by the <code class=\"language-text\">getLinersTotal</code> method in the local state.</p>\n<p>Next, we need to check if we already have the maximum number of liners available so we can skip making an unnecessary request. If that’s not the case we proceed to call the <code class=\"language-text\">this.props.fetchLiners</code> method to get a fresh set of liners.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">    <span class=\"token function\">componentDidMount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>liners<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> linersTotal <span class=\"token operator\">=</span> <span class=\"token function\">getLinersTotal</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            linersTotal\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>liners<span class=\"token punctuation\">.</span>length <span class=\"token operator\">>=</span> linersTotal<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span><span class=\"token function\">fetchLiners</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            linersSetIndex<span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>linersSetIndex\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>In our <code class=\"language-text\">render</code> method, we’ll use the <code class=\"language-text\">InfiniteScroll</code> component. We’ll supply some attributes to this component. Let’s go through them.</p>\n<ul>\n<li><strong><code class=\"language-text\">dataLength</code></strong>: We’ll use this prop to tell our Infinite Scroll component the number of items we have available. In this case we set its value equal to <code class=\"language-text\">this.props.liners.length</code></li>\n<li><strong><code class=\"language-text\">next</code></strong>: We can use this prop to specify the method we’d like the component to call when it needs to load our next set of items. In this case, we’d like it to call <code class=\"language-text\">this.fetchMoreData</code> method that we’ll define shortly.</li>\n<li><strong><code class=\"language-text\">hasMore</code></strong>: We use this prop to tell the component we have more items available. If this value is set to false. The component displays the <code class=\"language-text\">endMessage</code> (more on this below). We set this value equal to <code class=\"language-text\">this.state.hasMoreItems</code> (defined above).</li>\n<li><strong><code class=\"language-text\">loader</code></strong>: This is set to some markup that displays before new content is loaded.</li>\n<li><strong><code class=\"language-text\">endMessage</code></strong>: This is set to some markup that displays whenever there are no more items to load. In our case, we simply show a bold centered paragraph. You could display a loading animation if you wish.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n            <span class=\"token operator\">&lt;</span>Flex justify<span class=\"token operator\">=</span><span class=\"token string\">\"center\"</span> alignItems<span class=\"token operator\">=</span><span class=\"token string\">\"center\"</span><span class=\"token operator\">></span>\n\n              <span class=\"token operator\">&lt;</span>Box width<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">[</span> <span class=\"token number\">0.9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.6</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span> p<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n                  <span class=\"token operator\">&lt;</span>Text fontSize<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span> mb<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span> bold<span class=\"token operator\">></span>Recent Quotes<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Text<span class=\"token operator\">></span>\n\n                  <span class=\"token operator\">&lt;</span>InfiniteScroll\n                    dataLength<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>liners<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">}</span>\n                    next<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fetchMoreData<span class=\"token punctuation\">}</span>\n                    hasMore<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>hasMoreItems<span class=\"token punctuation\">}</span>\n                    loader<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token operator\">&lt;</span>h4 style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>textAlign<span class=\"token operator\">:</span> <span class=\"token string\">'center'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>Loading<span class=\"token operator\">...</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h4<span class=\"token operator\">></span><span class=\"token punctuation\">}</span>\n                    endMessage<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>\n                      <span class=\"token operator\">&lt;</span>p style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>textAlign<span class=\"token operator\">:</span> <span class=\"token string\">'center'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n                        <span class=\"token operator\">&lt;</span>b<span class=\"token operator\">></span>Homie<span class=\"token punctuation\">,</span> you done seen all the liners we got<span class=\"token punctuation\">.</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>b<span class=\"token operator\">></span>\n                      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n                    <span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n                    <span class=\"token punctuation\">{</span><span class=\"token comment\">/* Our Liners will show here */</span><span class=\"token punctuation\">}</span>\n                    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>InfiniteScroll<span class=\"token operator\">></span>\n             <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Box<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Flex<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The rest of the render method is unchanged. All we simply need to do is wrap the previously existing markup in the <code class=\"language-text\">&lt;InfiniteScroll>&lt;/InfiniteScroll></code> component.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>liners<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>liners\n      <span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> a<span class=\"token punctuation\">.</span>id <span class=\"token operator\">&lt;</span> b<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">liner<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n        <span class=\"token operator\">&lt;</span>Box key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>index<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Flex\n            bg<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>index <span class=\"token operator\">===</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>linersSetIndex <span class=\"token operator\">*</span> <span class=\"token number\">5</span> <span class=\"token operator\">?</span> <span class=\"token string\">'lightBlue'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'lightGray'</span><span class=\"token punctuation\">}</span>\n            style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> borderRadius<span class=\"token operator\">:</span> <span class=\"token string\">'4px'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n            p<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span>\n            mb<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span>\n          <span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>Flex width<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">[</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>Circle bg<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'lightGray'</span><span class=\"token punctuation\">}</span> mr<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">5</span><span class=\"token punctuation\">}</span> flexDirection<span class=\"token operator\">=</span><span class=\"token string\">\"column\"</span> justify<span class=\"token operator\">=</span><span class=\"token string\">\"center\"</span> align<span class=\"token operator\">=</span><span class=\"token string\">\"center\"</span><span class=\"token operator\">></span>\n                <span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getLinerAvatar</span><span class=\"token punctuation\">(</span>liner<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\n                  <span class=\"token operator\">&lt;</span>Image\n                    src<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">../../assets/img/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getLinerAvatar</span><span class=\"token punctuation\">(</span>liner<span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n                    style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> borderRadius<span class=\"token operator\">:</span> <span class=\"token string\">'50%'</span><span class=\"token punctuation\">,</span> width<span class=\"token operator\">:</span> <span class=\"token string\">'60px'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n                  <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n                <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n              <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Circle<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Flex<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>Flex flexDirection<span class=\"token operator\">=</span><span class=\"token string\">\"column\"</span> width<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">[</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.7</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>Text mb<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span> width<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">1</span><span class=\"token punctuation\">}</span> italic fontSize<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n                <span class=\"token punctuation\">{</span>liner<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">}</span>\n              <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Text<span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>Link href<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'/authors/'</span> <span class=\"token operator\">+</span> liner<span class=\"token punctuation\">.</span>author<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span>Text fontSize<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">1</span><span class=\"token punctuation\">}</span> mb<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span> color<span class=\"token operator\">=</span><span class=\"token string\">\"gray\"</span> align<span class=\"token operator\">=</span><span class=\"token string\">\"right\"</span> bold<span class=\"token operator\">></span>\n                  <span class=\"token punctuation\">{</span>liner<span class=\"token punctuation\">.</span>author<span class=\"token punctuation\">}</span>\n                <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Text<span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Flex<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Flex<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Box<span class=\"token operator\">></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>We now need to define the <code class=\"language-text\">fetchMoreData</code> method. We’ll simulate production app conditions. Usually, a roundtrip to the server could take as much as 1500 milliseconds (I’m being hopeful here). We’ll set a timeout of 1500 milliseconds then we’ll carry out some tasks.</p>\n<p>Firstly, we’ll increment the state property <code class=\"language-text\">linersSetIndex</code> by 1. We’ll also check if the total number of liners loaded is less than the total number of all liners available and we update the <code class=\"language-text\">hasMoreItems</code> property to true if our condition is true and false otherwise.</p>\n<p>Last of all, we run check to see if they’re more items available to load. If that’s the case, we call <code class=\"language-text\">this.props.fetchLiners</code> to get more items from the data service.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function-variable function\">fetchMoreData</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// a fake async api call like which sends</span>\n  <span class=\"token comment\">// 20 more records in 1.5 secs</span>\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      linersSetIndex<span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>linersSetIndex <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n      hasMoreItems<span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>liners<span class=\"token punctuation\">.</span>length <span class=\"token operator\">&lt;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>linersTotal<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>hasMoreItems<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span><span class=\"token function\">fetchLiners</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        linersSetIndex<span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>linersSetIndex<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>Setting up Our Reducers</strong></p>\n<p>We’ll need to modify our reducer to accommodate infinite scrolling. Previously, we simply set the <code class=\"language-text\">liners</code> properties to the array returned by the data whenever the <code class=\"language-text\">SET_LINERS</code> action was detected. We have to change its reducer to one that <em>adds a new set of items instead of just replacing it</em>.</p>\n<p>Let’s do just that. Let’s open up <code class=\"language-text\">src/containers/app/reducer.js</code> and take a look at it.</p>\n<p><img src=\"https://cdn.steemitimages.com/DQmTJHTWirzpHAh4csZWJMkpTmx9kLfUerU1gnaLCKCbwGi/AppReducerShot.png\" alt=\"A look at the App&#x27;s reducer\"></p>\n<p>We’ll need to modify it to look like this. We’re simply setting the <code class=\"language-text\">liners</code> property to an array that comprises of the previous liners and the new set of liners. We use the <code class=\"language-text\">fromJS</code> method to make this an ImmutableJS record.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">    <span class=\"token keyword\">case</span> <span class=\"token constant\">SET_LINERS_DATA</span><span class=\"token operator\">:</span>\n        <span class=\"token keyword\">return</span> state<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'liners'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">fromJS</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>state<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'liners'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>action<span class=\"token punctuation\">.</span>payload<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Congrats! We’ve completed our Infinite Scroll feature. We can test it out by running <code class=\"language-text\">npm start</code> and visit <code class=\"language-text\">http://localhost: 3000</code>.</p>\n<p><img src=\"https://cdn.steemitimages.com/DQmPUQn4LHijN17yTvduRmxKBYK857G9K5fTLirQ5oHcoRP/InfiniteScrollFunctionality.gif\" alt=\"GIF animation of the Infinite Scroll in action\"></p>\n<h4 id=\"implementing-route-based-content-filtering-using-react-router\" style=\"position:relative;\"><a href=\"#implementing-route-based-content-filtering-using-react-router\" aria-label=\"implementing route based content filtering using react router permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Implementing route based content filtering using React Router.</h4>\n<p>Usually, in most applications, we have multiple routes to serve different content types. These routes are usually passed parameters that influence how its going to work. We’d love to be able to filter liners by authors. For instance, if we hit <code class=\"language-text\">/authors/Eminem</code> we should see only liners by Eminem. We’ll need a new screen component, the Author screen to help us display liners for an author.</p>\n<p>We’ll also need to refactor our code so we can reuse the infinite scroll feature in our Author screen.</p>\n<p><strong>Refactoring our Code for Maximum Reuse</strong></p>\n<p>We’ll need to extract our code into a new component so we can share it between different component. We’ll be extracting our code that displays our liners into the <code class=\"language-text\">Feed</code> component we’ll be creating soon. Create <code class=\"language-text\">src/components/Feed/index.js</code> and we’ll get to work. We’ll import our dependencies similar to what exists at the code for the Home screen. We’ll also be defining the <code class=\"language-text\">Circle</code> component here.</p>\n<p><img src=\"https://cdn.steemitimages.com/DQmVAfYLn2UEaHKw68p2TBXfvQ7Y5d3i5b7wUwFFGzbRkxz/GetLinerAuthorShot.png\" alt=\"GetLinerAuthor method shot\"></p>\n<p>We need a way to be able to get information about the creator of a liner. We’ll use the utility function <code class=\"language-text\">getLinerAuthor</code> to get the author information for a liner. It’s a really simple method, we just go through every author and we only return an author if that author is the author of the liner.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Box<span class=\"token punctuation\">,</span> Image<span class=\"token punctuation\">,</span> Flex<span class=\"token punctuation\">,</span> Link<span class=\"token punctuation\">,</span> Text <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'pcln-design-system'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> styled <span class=\"token keyword\">from</span> <span class=\"token string\">'styled-components'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> Circle <span class=\"token operator\">=</span> <span class=\"token function\">styled</span><span class=\"token punctuation\">(</span>Flex<span class=\"token punctuation\">)</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  border-radius: 50px;\n  width: 45px;\n  height: 45px;\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getLinerAuthor</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">liner<span class=\"token punctuation\">,</span> authors</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> authors<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">author</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> author<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> liner<span class=\"token punctuation\">.</span>author<span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>We then define the stateless <code class=\"language-text\">Feed</code> component that is in reality, nothing but a wrapper around our previous code at the <code class=\"language-text\">Home</code> screen for displaying our liners. Our <code class=\"language-text\">Feed</code> component is in reality a “pure” function that accepts props and returns some JSX markup. Our JSX markup simply displays the name &#x26; photo of the liner’s author alongside the liner.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Feed</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    props<span class=\"token punctuation\">.</span>liners<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span>\n    props<span class=\"token punctuation\">.</span>liners<span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">liner<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>Box key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>index<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Flex\n          bg<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>index <span class=\"token operator\">===</span> props<span class=\"token punctuation\">.</span>linersSetIndex <span class=\"token operator\">*</span> <span class=\"token number\">5</span> <span class=\"token operator\">?</span> <span class=\"token string\">'lightBlue'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'lightGray'</span><span class=\"token punctuation\">}</span>\n          style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> borderRadius<span class=\"token operator\">:</span> <span class=\"token string\">'4px'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          p<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span>\n          mb<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Flex width<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">[</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>Circle bg<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'lightGray'</span><span class=\"token punctuation\">}</span> mr<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">5</span><span class=\"token punctuation\">}</span> flexDirection<span class=\"token operator\">=</span><span class=\"token string\">\"column\"</span> justify<span class=\"token operator\">=</span><span class=\"token string\">\"center\"</span> align<span class=\"token operator\">=</span><span class=\"token string\">\"center\"</span><span class=\"token operator\">></span>\n              <span class=\"token punctuation\">{</span><span class=\"token function\">getLinerAuthor</span><span class=\"token punctuation\">(</span>liner<span class=\"token punctuation\">,</span> props<span class=\"token punctuation\">.</span>authors<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>photo <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\n                <span class=\"token operator\">&lt;</span>Image\n                  src<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">../../assets/img/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token function\">getLinerAuthor</span><span class=\"token punctuation\">(</span>liner<span class=\"token punctuation\">,</span> props<span class=\"token punctuation\">.</span>authors<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>photo<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n                  style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> borderRadius<span class=\"token operator\">:</span> <span class=\"token string\">'50%'</span><span class=\"token punctuation\">,</span> width<span class=\"token operator\">:</span> <span class=\"token string\">'60px'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n                <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n              <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Circle<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Flex<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Flex flexDirection<span class=\"token operator\">=</span><span class=\"token string\">\"column\"</span> width<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">[</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.7</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>Text mb<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span> width<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">1</span><span class=\"token punctuation\">}</span> italic fontSize<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n              <span class=\"token punctuation\">{</span>liner<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">}</span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Text<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>Link href<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'/authors/'</span> <span class=\"token operator\">+</span> <span class=\"token function\">getLinerAuthor</span><span class=\"token punctuation\">(</span>liner<span class=\"token punctuation\">,</span> props<span class=\"token punctuation\">.</span>authors<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>slug<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>Text fontSize<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">1</span><span class=\"token punctuation\">}</span> mb<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span> color<span class=\"token operator\">=</span><span class=\"token string\">\"gray\"</span> align<span class=\"token operator\">=</span><span class=\"token string\">\"right\"</span> bold<span class=\"token operator\">></span>\n                <span class=\"token punctuation\">{</span>liner<span class=\"token punctuation\">.</span>author<span class=\"token punctuation\">}</span>\n              <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Text<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Flex<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Flex<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Box<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Feed<span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>Building the Author Screen.</strong></p>\n<p>Let’s create <code class=\"language-text\">src/screens/author/index.js</code> and add some code. We’ll reuse some of our code for the Home screen. We’ll import the <code class=\"language-text\">InfiniteScroll</code>component and also the newly created <code class=\"language-text\">Feed</code> component. We also import the <code class=\"language-text\">fetchAuthorLinersRequest</code> action and the <code class=\"language-text\">getAuthorLiners</code> data service.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> connect <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-redux'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> InfiniteScroll <span class=\"token keyword\">from</span> <span class=\"token string\">'react-infinite-scroll-component'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> Feed <span class=\"token keyword\">from</span> <span class=\"token string\">'../../components/Feed'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Box<span class=\"token punctuation\">,</span> Flex<span class=\"token punctuation\">,</span> Text <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'pcln-design-system'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> fetchAuthorLinersRequest<span class=\"token punctuation\">,</span> fetchAuthorsRequest <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./actions'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> getAppState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../../containers/App/reducer'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> getAuthorLiners <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../../services/DataService'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Next, we setup our constructor. We don’t need to be too innovative here as we can simply replicate the constructor of the <code class=\"language-text\">Home</code> class as they are really similar classes.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Author</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n            linersSetIndex<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n            hasMoreItems<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n            linersTotal<span class=\"token operator\">:</span> <span class=\"token number\">0</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>When we visit the author screen, we’d like to know how many liners our author has. We’ll use the <code class=\"language-text\">getAuthorLiners</code> method to get all the liners and we’ll count them by using the <code class=\"language-text\">length</code> property. We’ll create the <code class=\"language-text\">getAuthor</code> method to get the current author we’re viewing. We also call a yet to be created dispatch method called <code class=\"language-text\">fetchAuthorLiners</code>. We’ll pass it an object containing the <code class=\"language-text\">linersSetIndex</code> and the <code class=\"language-text\">author</code> properties.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">    <span class=\"token function\">componentDidMount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            linersTotal<span class=\"token operator\">:</span> <span class=\"token function\">getAuthorLiners</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getAuthor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>length\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span><span class=\"token function\">fetchAuthorLiners</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            linersSetIndex<span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>linersSetIndex<span class=\"token punctuation\">,</span>\n            author<span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getAuthor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>We’ll also define the <code class=\"language-text\">render</code> method along with our markup. We’ll use the infinite scroll component along with similar attributes to the one at the <code class=\"language-text\">Home</code> component. However, we’ll simply pass the <code class=\"language-text\">Feed</code> component to the <code class=\"language-text\">&lt;InfiniteScroll>&lt;/InfiniteScroll></code> component as its child. The props for our <code class=\"language-text\">Feed</code> component are as follows.</p>\n<ul>\n<li><strong><code class=\"language-text\">liners</code></strong>: The array of liners you’ll need to pass to the Feed.</li>\n<li><strong><code class=\"language-text\">linersSetIndex</code></strong>: The current set of liners to be loaded. Could be the second set if <code class=\"language-text\">2</code> is provided as the value.</li>\n<li><strong><code class=\"language-text\">authors</code></strong>: The authors array we have access to through the <code class=\"language-text\">mapStateToProps</code> method.</li>\n</ul>\n<p>We also show a little message whenever we have no liners for a particular author.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n            <span class=\"token operator\">&lt;</span>Flex justify<span class=\"token operator\">=</span><span class=\"token string\">\"center\"</span> alignItems<span class=\"token operator\">=</span><span class=\"token string\">\"center\"</span><span class=\"token operator\">></span>\n\n              <span class=\"token operator\">&lt;</span>Box width<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">[</span> <span class=\"token number\">0.9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.6</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span> p<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n                  <span class=\"token operator\">&lt;</span>Text fontSize<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span> mb<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span> bold<span class=\"token operator\">></span>All Quotes By <span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getAuthor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Text<span class=\"token operator\">></span>\n\n                  <span class=\"token operator\">&lt;</span>InfiniteScroll\n                    dataLength<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>liners<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">}</span>\n                    next<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fetchMoreData<span class=\"token punctuation\">}</span>\n                    hasMore<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>hasMoreItems<span class=\"token punctuation\">}</span>\n                    loader<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token operator\">&lt;</span>h4 style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>textAlign<span class=\"token operator\">:</span> <span class=\"token string\">'center'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>Loading<span class=\"token operator\">...</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h4<span class=\"token operator\">></span><span class=\"token punctuation\">}</span>\n                    endMessage<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>\n                      <span class=\"token operator\">&lt;</span>p style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>textAlign<span class=\"token operator\">:</span> <span class=\"token string\">'center'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n                        <span class=\"token operator\">&lt;</span>b<span class=\"token operator\">></span>Homie<span class=\"token punctuation\">,</span> you done seen all the liners we got<span class=\"token punctuation\">.</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>b<span class=\"token operator\">></span>\n                      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n                    <span class=\"token punctuation\">}</span>\n                  <span class=\"token operator\">></span>\n\n                  <span class=\"token operator\">&lt;</span>Feed\n                      liners<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getAuthorLiners</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n                      linersSetIndex<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>linersSetIndex<span class=\"token punctuation\">}</span>\n                      authors<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>authors<span class=\"token punctuation\">}</span>\n                  <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n                  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>InfiniteScroll<span class=\"token operator\">></span>\n\n                  <span class=\"token punctuation\">{</span><span class=\"token operator\">!</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>liners<span class=\"token punctuation\">.</span>length <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>Sorry<span class=\"token punctuation\">,</span> No Liners are available<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><span class=\"token punctuation\">}</span>\n\n               <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Box<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Flex<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>We also get to define the <code class=\"language-text\">fetchMoreData</code> method similar to the one at our Home screen.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function-variable function\">fetchMoreData</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// a fake async api call like which sends</span>\n  <span class=\"token comment\">// 20 more records in 1.5 secs</span>\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      linersSetIndex<span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>linersSetIndex <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n      hasMoreItems<span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>liners<span class=\"token punctuation\">.</span>length <span class=\"token operator\">&lt;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>linersTotal<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>hasMoreItems<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span><span class=\"token function\">fetchAuthorLiners</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        linersSetIndex<span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>linersSetIndex<span class=\"token punctuation\">,</span>\n        author<span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getAuthor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>We also need to define the <code class=\"language-text\">getAuthorLiners</code> and <code class=\"language-text\">getAuthor</code> methods. These methods will simply return the current author and then returns all the liners created by the author. We use the filter method to return <em>only</em> the data that matches our criteria.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">    <span class=\"token function\">getAuthorLiners</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> author <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getAuthor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>liners<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">liner</span> <span class=\"token operator\">=></span> liner<span class=\"token punctuation\">.</span>author <span class=\"token operator\">===</span> author<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">getAuthor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>authors<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">author</span> <span class=\"token operator\">=></span> author<span class=\"token punctuation\">.</span>slug <span class=\"token operator\">===</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>match<span class=\"token punctuation\">.</span>params<span class=\"token punctuation\">.</span>slug<span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>Finally…</strong></p>\n<p>We need to define our <code class=\"language-text\">mapStateToProps</code> and <code class=\"language-text\">mapDispatchToProps</code> methods. We’ll use them to connect our component to the Redux store. We’d like to be able to access the <code class=\"language-text\">liners</code> and <code class=\"language-text\">authors</code> from the store so we return them from the <code class=\"language-text\">mapStateToProps</code> method. We also need to be able to trigger <code class=\"language-text\">fetchAuthorLiners</code> and <code class=\"language-text\">fetchAuthors</code> actions so we return them from the <code class=\"language-text\">mapDispatchToProps</code> methods.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">mapStateToProps</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">state</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    liners<span class=\"token operator\">:</span> <span class=\"token function\">getAppState</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'liners'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toJS</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    authors<span class=\"token operator\">:</span> <span class=\"token function\">getAppState</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'authors'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">mapDispatchToProps</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">dispatch</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">fetchAuthorLiners</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token function\">fetchAuthorLinersRequest</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">fetchAuthors</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token function\">fetchAuthorsRequest</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>mapStateToProps<span class=\"token punctuation\">,</span> mapDispatchToProps<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>Author<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>Setting Up Our Data Service Methods.</strong></p>\n<p>We referenced the <code class=\"language-text\">getAuthorLiners</code> and <code class=\"language-text\">getAuthorLinersData</code> methods from our data service module that we’re yet to create. We can create them now. Edit <code class=\"language-text\">src/Services/DataService/index.js</code> and add the <code class=\"language-text\">getAuthorLiners</code> method. This method will go through all the liners fetched from the <code class=\"language-text\">liners.json</code> file and return only the ones created by our author of interest.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getAuthorLiners</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">author</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> linersData<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">liner</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> author<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> liner<span class=\"token punctuation\">.</span>author<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>We also define the <code class=\"language-text\">getAuthorLinersData</code> method that is basically a rehash of the <code class=\"language-text\">getLinersData</code> method with an adaptation towards loading a specific authors liners.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getAuthorLinersData</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">config</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> authorLiners <span class=\"token operator\">=</span> <span class=\"token function\">getAuthorLiners</span><span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">.</span>author<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// We track the current set of liners we'd like to load through this variable.</span>\n  <span class=\"token keyword\">let</span> linersSetIndex <span class=\"token operator\">=</span> config<span class=\"token punctuation\">.</span>linersSetIndex <span class=\"token operator\">?</span> config<span class=\"token punctuation\">.</span>linersSetIndex <span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Since we're only loading 5 items at a time.</span>\n  <span class=\"token keyword\">let</span> resultsIndex <span class=\"token operator\">=</span> linersSetIndex <span class=\"token operator\">*</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// We select the range of items we're interested in.</span>\n  <span class=\"token comment\">// Could be all items for index 5 to index 10</span>\n  <span class=\"token keyword\">let</span> data <span class=\"token operator\">=</span> authorLiners<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span>resultsIndex<span class=\"token punctuation\">,</span> resultsIndex <span class=\"token operator\">+</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>Setting Up Our Actions</strong></p>\n<p>We also referenced the <code class=\"language-text\">fetchAuthorLinersRequest</code> and the <code class=\"language-text\">fetchAuthorsRequest</code> but we are yet to define them. We’ll edit the <code class=\"language-text\">src/screens/Author/actions.js</code> and define them now.</p>\n<p>First of all, we’ll import a few constants from the <code class=\"language-text\">constants.js</code> file. We’ll then define the <code class=\"language-text\">fetchAuthorLinersRequest</code> action object that we’ll be dispatching.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> <span class=\"token constant\">ADD_LINER_REQUEST</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">ADD_AUTHOR_LINERS_REQUEST</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">ADD_LINERS_REQUEST</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">ADD_AUTHORS_REQUEST</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./constants'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">fetchAuthorLinersRequest</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    type<span class=\"token operator\">:</span> <span class=\"token constant\">ADD_AUTHOR_LINERS_REQUEST</span><span class=\"token punctuation\">,</span>\n    data<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>We also need to define the <code class=\"language-text\">fetchAuthorsRequest</code>. Pretty routine stuff. It will return an object with a type value set to the <code class=\"language-text\">ADD_AUTHORS_REQUEST</code> constant.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">fetchAuthorsRequest</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    type<span class=\"token operator\">:</span> <span class=\"token constant\">ADD_AUTHORS_REQUEST</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>Setting Up Our Sagas</strong></p>\n<p>We’ll now setup our saga to help us process our dispatched actions. Let’s create <code class=\"language-text\">src/screens/Author/saga.js</code>. We’ll start off with our dependencies. It’s a really similar set of dependencies to our previous sagas.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> all<span class=\"token punctuation\">,</span> call<span class=\"token punctuation\">,</span> put<span class=\"token punctuation\">,</span> takeLatest <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'redux-saga/effects'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> getAuthorLinersData<span class=\"token punctuation\">,</span> getAuthorsData <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../../services/DataService'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> <span class=\"token constant\">ADD_AUTHOR_LINERS_REQUEST</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">ADD_AUTHORS_REQUEST</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./constants'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> <span class=\"token constant\">SET_LINERS_DATA</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">SET_AUTHORS_DATA</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../../containers/App/constants'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>We’ll also be defining two saga handlers, <code class=\"language-text\">fetchAuthorLiners</code> and <code class=\"language-text\">fetchAuthors</code> methods.</p>\n<p>In the <code class=\"language-text\">fetchAuthorLiners</code> method, we’ll resolve the promise returned by <code class=\"language-text\">getAuthorLinersData</code> passing it the payload’s data. We’ll then dispatch the <code class=\"language-text\">SET_LINERS_DATA</code> action to the reducer along with the response.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token function\">fetchAuthorLiners</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">payload</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">yield</span> <span class=\"token function\">call</span><span class=\"token punctuation\">(</span>getAuthorLinersData<span class=\"token punctuation\">,</span> payload<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">yield</span> <span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    type<span class=\"token operator\">:</span> <span class=\"token constant\">SET_LINERS_DATA</span><span class=\"token punctuation\">,</span>\n    payload<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      data<span class=\"token operator\">:</span> response<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>In the <code class=\"language-text\">fetchAuthors</code> method, we’ll resolve the promise returned by <code class=\"language-text\">getAuthorsData</code>. We’ll be passing the <code class=\"language-text\">payload.data</code> object as an argument. We’ll then dispatch the <code class=\"language-text\">SET_AUTHORS_DATA</code> action to the reducer along with the response returned.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token function\">fetchAuthors</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">payload</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">yield</span> <span class=\"token function\">call</span><span class=\"token punctuation\">(</span>getAuthorsData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">yield</span> <span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    type<span class=\"token operator\">:</span> <span class=\"token constant\">SET_AUTHORS_DATA</span><span class=\"token punctuation\">,</span>\n    payload<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      data<span class=\"token operator\">:</span> response<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><img src=\"https://cdn.steemitimages.com/DQmT3sarg5NWhkQLCeVeXwKxX8hmdnj5EmaBsowL2G6CDE6/fetchAuthorLinersShot.png\" alt=\"Fetch author liners method\"></p>\n<p>We’ll also need to define the actions we’re listening for. In the <code class=\"language-text\">root</code> method, we’ll use the <code class=\"language-text\">takeLatest</code> method to listen to the <code class=\"language-text\">ADD_AUTHOR_LINERS_REQUEST</code> action. We’ll then run the <code class=\"language-text\">fetchAuthorLiners</code> method if this action was dispatched.</p>\n<p>We also do the same for the <code class=\"language-text\">ADD_AUTHORS_REQUEST</code> action but in this case, running the <code class=\"language-text\">fetchAuthors</code> method.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/**\n * We process only the latest action\n */</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token function\">root</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token function\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token function\">takeLatest</span><span class=\"token punctuation\">(</span><span class=\"token constant\">ADD_AUTHOR_LINERS_REQUEST</span><span class=\"token punctuation\">,</span> fetchAuthorLiners<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">takeLatest</span><span class=\"token punctuation\">(</span><span class=\"token constant\">ADD_AUTHORS_REQUEST</span><span class=\"token punctuation\">,</span> fetchAuthors<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>Concluding with the Root Saga</strong></p>\n<p>We’ve been awesome today. To complete our route based filtering, we’ll simply need to add our <code class=\"language-text\">AuthorScreen</code> saga to the root saga. We can do this by editing the <code class=\"language-text\">src/redux/sagas.js</code> and adding the Author screen saga to the root saga giant default export object. We import the <code class=\"language-text\">AuthorScreenSaga</code> and we add it to the array argument in the <code class=\"language-text\">all</code> method.</p>\n<p>Our <code class=\"language-text\">src/redux/sagas.js</code> file should look like the one below now.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> all<span class=\"token punctuation\">,</span> fork <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'redux-saga/effects'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> HomeScreenSaga <span class=\"token keyword\">from</span> <span class=\"token string\">'../screens/Home/saga'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> AuthorScreenSaga <span class=\"token keyword\">from</span> <span class=\"token string\">'../screens/Author/saga'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/**\n * rootSaga\n */</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token function\">root</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token function\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token function\">fork</span><span class=\"token punctuation\">(</span>HomeScreenSaga<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">fork</span><span class=\"token punctuation\">(</span>AuthorScreenSaga<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Finito! Here’s our route based filtering in all its glory. We are freely switching between different authors. This could be the start of something greater.</p>\n<p><img src=\"https://cdn.steemitimages.com/DQmf83HeK6rgVMP9EzwnYSfCtxbJoeR4TpZmXWKvL9iwFot/RouteInfinite.gif\" alt=\"GIF of route based filtering\"></p>\n<h4 id=\"conclusion\" style=\"position:relative;\"><a href=\"#conclusion\" aria-label=\"conclusion permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusion</h4>\n<p>In this tutorial, we covered multiple concepts. We learned more about the importance of perceived fast loading in the success of our applications. We also added infinite scrolling capabilities to the FireLiners application. We then added route based data filtering without connecting to an external API.</p>\n<p>In our next tutorial, we’ll explore more responsiveness aiding techniques. We’ll look at action notifications and skeletal loading as viable means of increasing perceived application responsiveness.</p>\n<h4 id=\"proof-of-work\" style=\"position:relative;\"><a href=\"#proof-of-work\" aria-label=\"proof of work permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Proof of Work</h4>\n<ul>\n<li><strong>Infinite Scrolling at the Home Screen</strong></li>\n</ul>\n<p><img src=\"https://cdn.steemitimages.com/DQmPUQn4LHijN17yTvduRmxKBYK857G9K5fTLirQ5oHcoRP/InfiniteScrollFunctionality.gif\" alt=\"GIF animation of the Infinite Scroll in action\"></p>\n<ul>\n<li><strong>Route Based Filtering alongside Infinite Scrolling.</strong></li>\n</ul>\n<p><img src=\"https://cdn.steemitimages.com/DQmf83HeK6rgVMP9EzwnYSfCtxbJoeR4TpZmXWKvL9iwFot/RouteInfinite.gif\" alt=\"GIF of route based filtering\"></p>\n<h4 id=\"curriculum\" style=\"position:relative;\"><a href=\"#curriculum\" aria-label=\"curriculum permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Curriculum</h4>\n<ul>\n<li><a href=\"https://www.kaymathew.com/articles/pt-1-build-a-css-in-js-react-app-with-styled-components-and-priceline-design-system/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Part One: Build a CSS-in-JS App With Styled Components and Priceline Design System</a></li>\n<li><a href=\"https://www.kaymathew.com/articles/pt-2-build-a-css-in-js-react-app-with-styled-components-and-priceline-design-system/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Part Two: Build a CSS-in-JS App With Styled Components and Priceline Design System</a></li>\n<li><a href=\"https://www.kaymathew.com/articles/pt-3-build-a-css-in-js-react-app-with-styled-components-and-priceline-design-system/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Part Three: Build a CSS-in-JS App With Styled Components and Priceline Design System</a></li>\n<li><a href=\"https://www.kaymathew.com/articles/pt-4-build-a-css-in-js-react-app-with-styled-components-and-priceline-design-system/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Part Four: Build a CSS-in-JS App With Styled Components and Priceline Design System</a></li>\n</ul>\n<h4 id=\"resources\" style=\"position:relative;\"><a href=\"#resources\" aria-label=\"resources permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Resources</h4>\n<ul>\n<li><a href=\"https://drive.google.com/open?id=1MGynQBcsi2tiVlVjrshlKZ_lTnm0K9lP\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Image and Data assets for this tutorial</a></li>\n<li><a href=\"https://www.npmjs.com/package/react-infinite-scroll-component\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">React Infinite Scroll Component Intro</a></li>\n<li><a href=\"http://github.com/creatrixity/fire-liners\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Fireliners Github Code available here</a></li>\n<li><a href=\"https://pricelinelabs.github.io/design-system\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Priceline Design System Components</a></li>\n<li><a href=\"https://www.adweek.com/digital/study-consumers-will-abandon-apps-with-greater-than-six-second-load-times-infographic/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Study on perceived non-responsiveness implications</a></li>\n</ul>","fields":{"slug":"/articles/pt-5-build-a-css-in-js-react-app-with-styled-components-and-priceline-design-system/","tagSlugs":["/tag/javascript/","/tag/react/"]},"frontmatter":{"date":"2018-06-14T23:46:37.121Z","description":"Today, we'll explore a few techniques for improving perceived responsiveness for apps. We'll be looking at a few such techniques today (even though there are much more sophisticated and code intensive techniques out there). We'll use a technique that is employed by some of the most popular apps available today. Stay with us to find out more.","tags":["Javascript","React"],"title":"Pt 5: Build a CSS-in-JS React App with Styled Components and Priceline Design System","socialImage":"https://steemitimages.com/256x512/https://cdn.steemitimages.com/DQmPUQn4LHijN17yTvduRmxKBYK857G9K5fTLirQ5oHcoRP/InfiniteScrollFunctionality.gif"}}},"pageContext":{"slug":"/articles/pt-5-build-a-css-in-js-react-app-with-styled-components-and-priceline-design-system/"}},"staticQueryHashes":["1250832817","251939775","401334301","697386449"]}