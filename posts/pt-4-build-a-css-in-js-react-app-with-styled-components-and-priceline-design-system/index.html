<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.f0f0fd62dadbeb747e4d.css" id="gatsby-global-css">html{font-size:100}body{margin:0 0 0 calc(100vw - 100%);color:#222;line-height:1.625;font-size:1rem;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body,h1,h2,h3,h4,h5,h6{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif}h1,h2,h3,h4,h5,h6{font-weight:600}h1{font-size:2.5rem;line-height:3.25rem;margin-top:6.5rem;margin-bottom:1.625rem}h2{font-size:1.6875rem;line-height:2.4375rem}h2,h3{margin-top:3.25rem;margin-bottom:.8125rem}h3{font-size:1.375rem;line-height:1.625rem}h4{font-size:1.2rem;margin-top:2.4375rem}h4,h5{line-height:1.625rem;margin-bottom:.8125rem}h5,h6{font-size:1rem;margin-top:4.0625rem}h6{line-height:1.625rem;margin-bottom:.8125rem}img{max-width:100%;margin:inherit auto}hr,img{border:0;display:block}hr{color:#222;height:26px;margin:3.25rem auto;background-size:100% 26px;background-image:linear-gradient(180deg,transparent 1px,transparent 11px,#222 0,#222 15px,transparent 0,transparent 26px);width:6.25rem}a{color:#5d93ff;text-decoration:none}a:active,a:focus,a:hover{color:#f7a046}b,strong{font-weight:600}ul{list-style:square;margin-bottom:1.625rem}ul li{padding:0 .3125rem;margin-bottom:.625rem}p{line-height:1.625rem;margin-bottom:1.625rem}blockquote{padding:0;font-style:italic;text-align:center}figure{display:block;width:100%;height:auto}figcaption{line-height:1.21875rem;margin-top:.40625rem;color:#222;font-size:.875rem;font-style:italic;margin-bottom:0;text-align:center}.anchor{margin-left:-1.875rem!important;padding-right:.875rem!important}@media screen and (min-width:685px){figure.float-left,figure.float-right{max-width:19.375rem;padding:0 1.625rem}.float-right{float:right}.float-left{float:left}}code[class*=language-],pre[class*=language-]{color:#fff;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;text-shadow:0 -.1em .2em #000;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}:not(pre)>code[class*=language-],pre[class*=language-]{background:#141414}pre[class*=language-]{border-radius:.5em;border:.3em solid #545454;box-shadow:inset 1px 1px .5em #000;margin:.5em 0;overflow:auto;padding:1em}pre[class*=language-]::selection{background:#27292a}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:hsla(0,0%,93%,.15)}:not(pre)>code[class*=language-]{border-radius:.3em;border:.13em solid #545454;box-shadow:inset 1px 1px .3em -.1em #000;padding:.15em .2em .05em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#787878}.namespace,.token.punctuation{opacity:.7}.token.boolean,.token.deleted,.token.number,.token.tag{color:#cf694a}.token.builtin,.token.constant,.token.keyword,.token.property,.token.selector,.token.symbol{color:#f9ee9a}.language-css .token.string,.style .token.string,.token.attr-name,.token.attr-value,.token.char,.token.entity,.token.inserted,.token.operator,.token.string,.token.url,.token.variable{color:#919e6b}.token.atrule{color:#7386a5}.token.important,.token.regex{color:#e9c163}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}pre[data-line]{padding:1em 0 1em 3em;position:relative}.language-markup .token.attr-name,.language-markup .token.punctuation,.language-markup .token.tag{color:#ad895c}.token{position:relative;z-index:1}.line-highlight{background:rgba(84,84,84,.25);background:linear-gradient(90deg,rgba(84,84,84,.1) 70%,rgba(84,84,84,0));border-bottom:1px dashed #545454;border-top:1px dashed #545454;left:0;line-height:inherit;margin-top:.75em;padding:inherit 0;pointer-events:none;position:absolute;right:0;white-space:pre;z-index:0}.line-highlight:before,.line-highlight[data-end]:after{background-color:#8794a6;border-radius:999px;box-shadow:0 1px #fff;color:#f5f2f0;content:attr(data-start);font:700 65%/1.5 sans-serif;left:.6em;min-width:1em;padding:0 .5em;position:absolute;text-align:center;text-shadow:none;top:.4em;vertical-align:.3em}.line-highlight[data-end]:after{bottom:.4em;content:attr(data-end);top:auto}.Author-module--author__photo--36xCH{display:inline-block;margin-bottom:0;border-radius:50%;background-clip:padding-box}.Author-module--author__title--2CaTb{font-size:1.125rem;font-weight:600;line-height:1.82813rem;margin:.8125rem 0}.Author-module--author__title-link--Yrism,.Author-module--author__title-link--Yrism:focus,.Author-module--author__title-link--Yrism:hover{color:#222}.Author-module--author__subtitle--cAaEB{color:#888;line-height:1.625rem;margin-bottom:1.625rem}.Icon-module--icon--Gpyvw{display:inline-block;width:1em;height:1em;stroke-width:0;stroke:currentColor;fill:currentColor;font-style:normal;font-weight:400;speak:none;margin-right:.2em;text-align:center;font-variant:normal;text-transform:none;line-height:1em;margin-left:.2em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.Contacts-module--contacts--1rGd1{margin-bottom:1.625rem}.Contacts-module--contacts__list--3OgdW{display:flex;flex-flow:row wrap;flex-grow:0;flex-shrink:0;list-style:none;padding:0;margin:.625rem -.1875rem;width:8.75rem}.Contacts-module--contacts__list-item--16p9q{padding:0;margin:.25rem;display:flex;align-content:center;align-items:center;justify-content:center;height:35px;width:2.1875rem;line-height:2.1875rem;border-radius:50%;text-align:center;border:1px solid #ebebeb}.Contacts-module--contacts__list-item-link--2MIDn{border:0;display:flex;color:#222}.Contacts-module--contacts__list-item-link--2MIDn:focus,.Contacts-module--contacts__list-item-link--2MIDn:hover{color:#5d93ff}.Copyright-module--copyright--1ariN{color:#b6b6b6;font-size:.875rem}.Menu-module--menu--Efbin{margin-bottom:1.625rem}.Menu-module--menu__list--31Zeo{list-style:none;padding:0;margin:0}.Menu-module--menu__list-item--1lJ6B{padding:0;margin:.625rem 0}.Menu-module--menu__list-item-link--10Ush{font-size:1rem;color:#222;font-weight:400;border:0}.Menu-module--menu__list-item-link--10Ush:focus,.Menu-module--menu__list-item-link--10Ush:hover{color:#5d93ff;border-bottom:1px solid #5d93ff}.Menu-module--menu__list-item-link--active--2CbUO{color:#222;border-bottom:1px solid #222}.Sidebar-module--sidebar--X4z2p{width:100%}.Sidebar-module--sidebar__inner--Jdc5s{position:relative;padding:1.5625rem 1.25rem 0}@media screen and (min-width:685px){.Sidebar-module--sidebar--X4z2p{width:calc(41.625% - 1.09375rem)}.Sidebar-module--sidebar--X4z2p:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.Sidebar-module--sidebar--X4z2p:last-child{margin-right:0}.Sidebar-module--sidebar--X4z2p:nth-child(12n){margin-right:0;float:right}.Sidebar-module--sidebar--X4z2p:nth-child(12n+1){clear:both}.Sidebar-module--sidebar__inner--Jdc5s{padding:1.875rem 1.25rem 0}.Sidebar-module--sidebar__inner--Jdc5s:after{background:#e6e6e6;background:linear-gradient(180deg,#e6e6e6 0,#e6e6e6 48%,#fff);position:absolute;content:"";width:.0625rem;height:540px;top:30px;right:-10px;bottom:0}}@media screen and (min-width:960px){.Sidebar-module--sidebar--X4z2p{width:calc(33.3% - 1.25rem)}.Sidebar-module--sidebar--X4z2p:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.Sidebar-module--sidebar--X4z2p:last-child{margin-right:0}.Sidebar-module--sidebar--X4z2p:nth-child(3n){margin-right:0;float:right}.Sidebar-module--sidebar--X4z2p:nth-child(3n+1){clear:both}.Sidebar-module--sidebar__inner--Jdc5s{padding:2.5rem}}.Layout-module--layout--3Pyz6{max-width:66.875rem;margin-left:auto;margin-right:auto}.Layout-module--layout--3Pyz6:before{content:"";display:table}.Layout-module--layout--3Pyz6:after{content:"";display:table;clear:both}.Feed-module--feed__item--2D5rE{margin-bottom:2.03125rem}.Feed-module--feed__item--2D5rE:last-child{margin-bottom:.8125rem}.Feed-module--feed__item-title--3nigr{font-size:1.6875rem;line-height:2.4375rem;margin-top:0;margin-bottom:.8125rem}.Feed-module--feed__item-title-link--iFMRs{color:#222}.Feed-module--feed__item-title-link--iFMRs:focus,.Feed-module--feed__item-title-link--iFMRs:hover{color:#222;border-bottom:1px solid #222}.Feed-module--feed__item-description--1uO8e{font-size:1rem;line-height:1.625rem;margin-bottom:1.21875rem}.Feed-module--feed__item-meta-time--3t1fg{font-size:.875rem;color:#222;font-weight:600;text-transform:uppercase}.Feed-module--feed__item-meta-divider--N-Q0A{margin:0 .3125rem}.Feed-module--feed__item-meta-category-link--23f8F{font-size:.875rem;color:#f7a046;font-weight:600;text-transform:uppercase}.Feed-module--feed__item-meta-category-link--23f8F:focus,.Feed-module--feed__item-meta-category-link--23f8F:hover{color:#5d93ff}.Feed-module--feed__item-readmore--1u6bI{font-size:1rem;color:#5d93ff}.Feed-module--feed__item-readmore--1u6bI:focus,.Feed-module--feed__item-readmore--1u6bI:hover{color:#5d93ff;border-bottom:1px solid #5d93ff}.Page-module--page--2nMky{margin-bottom:3.25rem}.Page-module--page__inner--2M_vz{padding:1.5625rem 1.25rem}.Page-module--page__title--GPD8L{font-size:2.5rem;font-weight:600;line-height:3.25rem;margin-top:0;margin-bottom:2.35625rem}.Page-module--page__body--Ic6i6{font-size:1rem;line-height:1.625rem;margin:0 0 1.625rem}@media screen and (min-width:685px){.Page-module--page--2nMky{width:calc(58.275% - .78125rem)}.Page-module--page--2nMky:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.Page-module--page--2nMky:last-child{margin-right:0}.Page-module--page--2nMky:nth-child(12n){margin-right:0;float:right}.Page-module--page--2nMky:nth-child(12n+1){clear:both}.Page-module--page__inner--2M_vz{padding:1.875rem 1.25rem}}@media screen and (min-width:960px){.Page-module--page--2nMky{width:calc(66.6% - .625rem)}.Page-module--page--2nMky:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.Page-module--page--2nMky:last-child{margin-right:0}.Page-module--page--2nMky:nth-child(3n){margin-right:0;float:right}.Page-module--page--2nMky:nth-child(3n+1){clear:both}.Page-module--page__inner--2M_vz{padding:2.5rem 2.1875rem}}.Pagination-module--pagination--2H3nO{margin-top:3.25rem;display:flex}.Pagination-module--pagination__prev--bet5s{width:50%;text-align:left}.Pagination-module--pagination__prev-link--1Nzs6{color:#f7a046;font-size:1.625rem;font-weight:700}.Pagination-module--pagination__prev-link--1Nzs6:focus,.Pagination-module--pagination__prev-link--1Nzs6:hover{color:#5d93ff}.Pagination-module--pagination__prev-link--disable--Yklx9{pointer-events:none;color:#bbb}.Pagination-module--pagination__next--3hFiN{width:50%;text-align:right}.Pagination-module--pagination__next-link--3FUtA{color:#f7a046;font-size:1.625rem;font-weight:700}.Pagination-module--pagination__next-link--3FUtA:focus,.Pagination-module--pagination__next-link--3FUtA:hover{color:#5d93ff}.Pagination-module--pagination__next-link--disable--30UwZ{pointer-events:none;color:#bbb}.Author-module--author--2Yefr{border-top:1px solid #e6e6e6;max-width:40rem;padding-top:1.25rem;line-height:1.625rem;margin-top:1.625rem;margin-bottom:3.25rem}.Author-module--author__bio-twitter--n-O9n{display:block;text-decoration:underline}@media screen and (min-width:685px){.Author-module--author--2Yefr{margin-left:auto;margin-right:auto}}.Content-module--content--3p512{max-width:59.0625rem;padding:0 .9375rem;margin:0 auto}.Content-module--content__title--2BDW9{font-size:2rem;max-width:40rem;font-weight:600;text-align:center;line-height:2.68125rem;margin:1.625rem auto 0}.Content-module--content__body--2TrQ- figure{margin-bottom:1.625rem}.Content-module--content__body--2TrQ- figure blockquote{font-style:italic;text-align:center;margin-top:0;padding:1.625rem 0}.Content-module--content__body--2TrQ- figure blockquote p{max-width:40rem;font-size:1.6817rem;margin-top:0;margin-bottom:1.625rem;line-height:2.4375rem}.Content-module--content__body--2TrQ- a{text-decoration:underline}.Content-module--content__body--2TrQ- *{max-width:40rem;margin-left:auto;margin-right:auto}.Content-module--content__body--2TrQ- img{max-width:100%}@media screen and (min-width:960px){.Content-module--content--3p512{padding:0}.Content-module--content__title--2BDW9{font-size:3rem;line-height:3.65625rem;margin-top:3.65625rem;margin-bottom:2.4375rem}.Content-module--content__body--2TrQ-,.Content-module--content__body--2TrQ- p{font-size:1.125rem;line-height:1.82813rem;margin-bottom:1.82813rem}}.Meta-module--meta__date--29eD7{font-style:italic}.Tags-module--tags--1L_ct{margin-bottom:.8125rem}.Tags-module--tags__list--91FqN{list-style:none;margin:0 -.625rem;padding:0}.Tags-module--tags__list-item--1M30P{display:inline-block;margin:.625rem .3125rem}.Tags-module--tags__list-item-link--3SL_8{display:inline-block;height:35px;padding:0 1.5rem;line-height:2.1875rem;border:1px solid #e6e6e6;text-decoration:none;border-radius:1.25rem;color:#222}.Tags-module--tags__list-item-link--3SL_8:focus,.Tags-module--tags__list-item-link--3SL_8:hover{color:#5d93ff}.Post-module--post__comments--25y6I,.Post-module--post__footer--3WzWU{max-width:40rem;margin:0 auto;padding:0 .9375rem}.Post-module--post__home-button--16Kl0{display:block;max-width:5.625rem;height:35px;padding:0 1.5rem;line-height:2.1875rem;text-align:center;color:#222;border:1px solid #e6e6e6;border-radius:1.25rem;font-size:1rem;font-weight:400;margin-left:auto;margin-right:auto;margin-top:1.625rem}.Post-module--post__home-button--16Kl0:focus,.Post-module--post__home-button--16Kl0:hover{color:#5d93ff}@media screen and (min-width:960px){.Post-module--post__comments--25y6I,.Post-module--post__footer--3WzWU{padding:0}.Post-module--post__home-button--16Kl0{position:fixed;max-width:auto;margin:0;top:30px;left:30px}}</style><meta name="generator" content="Gatsby 2.32.13"/><link rel="alternate" type="application/rss+xml" title="Kay Mathew Blog" href="/rss.xml"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-73379983-2"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){window.dataLayer && window.dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-73379983-2', {"send_page_view":false});
      }
      </script><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="icon" href="/favicon-32x32.png?v=56b2458559ac491d31a0971e8c393b2a" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#F7A046"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=56b2458559ac491d31a0971e8c393b2a"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=56b2458559ac491d31a0971e8c393b2a"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=56b2458559ac491d31a0971e8c393b2a"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=56b2458559ac491d31a0971e8c393b2a"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=56b2458559ac491d31a0971e8c393b2a"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=56b2458559ac491d31a0971e8c393b2a"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=56b2458559ac491d31a0971e8c393b2a"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=56b2458559ac491d31a0971e8c393b2a"/><title data-react-helmet="true">Pt 4: Build a CSS-in-JS React App with Styled Components and Priceline Design System - Kay Mathew Blog</title><meta data-react-helmet="true" name="description" content="Previously on this series, we learned more about state management in large applications and the benefits we could gain by adopting an architecture like Flux. We also add Redux application functionality to our FireLiners app complete with actions and Sagas.
Today, we&#x27;ll do just a little bit more. We&#x27;ll be going in-depth into more state management practices and we&#x27;ll setup dynamic data that we&#x27;ll be using to populate our feed. Finally, we&#x27;ll add functionality that allows us to persist our state to local storage."/><meta data-react-helmet="true" property="og:site_name" content="Pt 4: Build a CSS-in-JS React App with Styled Components and Priceline Design System - Kay Mathew Blog"/><meta data-react-helmet="true" property="og:image" content="https://kaymathew.comhttps://steemitimages.com/256x512/https://preview.ibb.co/ixMvfy/A_Storage_Story.jpg"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="Pt 4: Build a CSS-in-JS React App with Styled Components and Priceline Design System - Kay Mathew Blog"/><meta data-react-helmet="true" name="twitter:description" content="Previously on this series, we learned more about state management in large applications and the benefits we could gain by adopting an architecture like Flux. We also add Redux application functionality to our FireLiners app complete with actions and Sagas.
Today, we&#x27;ll do just a little bit more. We&#x27;ll be going in-depth into more state management practices and we&#x27;ll setup dynamic data that we&#x27;ll be using to populate our feed. Finally, we&#x27;ll add functionality that allows us to persist our state to local storage."/><meta data-react-helmet="true" name="twitter:image" content="https://kaymathew.comhttps://steemitimages.com/256x512/https://preview.ibb.co/ixMvfy/A_Storage_Story.jpg"/><link as="script" rel="preload" href="/webpack-runtime-6e8f4530e65e044697da.js"/><link as="script" rel="preload" href="/framework-b17a64ad725e0b3c1338.js"/><link as="script" rel="preload" href="/532a2f07-92db97c0addf07d5cb73.js"/><link as="script" rel="preload" href="/app-bfb28f4816626504eedd.js"/><link as="script" rel="preload" href="/styles-407fe62976dc5310c43e.js"/><link as="script" rel="preload" href="/cd95ea5cbd2c605f26db819f07999610c9ff4310-dad06fceb22da7c71227.js"/><link as="script" rel="preload" href="/643651a62fb35a9bb4f20061cb1f214a352d7976-aa8c016fcb5d24453301.js"/><link as="script" rel="preload" href="/component---src-templates-post-template-js-ec77146d0cf71b2b963c.js"/><link as="fetch" rel="preload" href="/page-data/posts/pt-4-build-a-css-in-js-react-app-with-styled-components-and-priceline-design-system/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/251939775.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/401334301.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/4120999787.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="Layout-module--layout--3Pyz6"><div><a class="Post-module--post__home-button--16Kl0" href="/">All Articles</a><div><div class="Content-module--content--3p512"><h1 class="Content-module--content__title--2BDW9">Pt 4: Build a CSS-in-JS React App with Styled Components and Priceline Design System</h1><div class="Content-module--content__body--2TrQ-"><p><img src="https://preview.ibb.co/ixMvfy/A_Storage_Story.jpg" alt="The Storage Story"></p>
<h4 id="repository" style="position:relative;"><a href="#repository" aria-label="repository permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Repository</h4>
<ul>
<li><a href="https://github.com/facebook/react" target="_blank" rel="nofollow noopener noreferrer">React Github Page</a></li>
</ul>
<p>Previously on this series, we learned more about state management in large applications and the benefits we could gain by adopting an architecture like Flux. We also add Redux application functionality to our FireLiners app complete with actions and Sagas.</p>
<p>Today, we’ll do just a little bit more. We’ll be going in-depth into more state management practices and we’ll setup dynamic data that we’ll be using to populate our feed. Finally, we’ll add functionality that allows us to persist our state to local storage.</p>
<h4 id="difficulty" style="position:relative;"><a href="#difficulty" aria-label="difficulty permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Difficulty</h4>
<ul>
<li>Advanced</li>
</ul>
<h4 id="what-will-i-learn" style="position:relative;"><a href="#what-will-i-learn" aria-label="what will i learn permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What Will I Learn?</h4>
<p>By the time we get to the end of this tutorial, you should have understood the following concepts:</p>
<ul>
<li>Working with forms in a Redux-Saga application.</li>
<li>Updating immutable records with sagas.</li>
<li>Keeping client data easily accessible by persisting to LocalStorage with <code class="language-text">redux-localstorage-middleware</code>.</li>
<li>Dynamically transitioning to any view within our React application.</li>
</ul>
<h4 id="requirements" style="position:relative;"><a href="#requirements" aria-label="requirements permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Requirements</h4>
<ul>
<li><a href="https://nodejs.org" target="_blank" rel="nofollow noopener noreferrer">Node.js</a> 8.0 or greater.</li>
<li><a href="https://npmjs.com" target="_blank" rel="nofollow noopener noreferrer">NPM</a> 3.0 or greater.</li>
<li><a href="https://yarnpkg.com" target="_blank" rel="nofollow noopener noreferrer">Yarn</a> package manager</li>
<li><a href="https://github.com" target="_blank" rel="nofollow noopener noreferrer">Git</a></li>
<li><a href="https://github.com/creatrixity/fireliners" target="_blank" rel="nofollow noopener noreferrer">Previous code on this series</a></li>
<li>An intermediate level of <a href="https://reactjs.org" target="_blank" rel="nofollow noopener noreferrer">ReactJS</a> knowledge.</li>
<li>Keen interest and patience.</li>
</ul>
<h4 id="introduction" style="position:relative;"><a href="#introduction" aria-label="introduction permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Introduction</h4>
<p>Welcome back, friend! Last time around, we did a lot of awesome stuff. This time around, we’ll be up to even much more. Before we proceed any further, let’s remember our current project structure.</p>
<ul>
<li>
<p><strong>fire-liners/</strong></p>
<ul>
<li>config/…</li>
<li>node_modules/…</li>
<li>public/…</li>
<li>scripts/…</li>
<li><strong>src/</strong></li>
<li>
<p>components/</p>
<ul>
<li>Header/</li>
<li>index.js</li>
<li>logo.svg</li>
</ul>
</li>
<li>
<p>containers/</p>
<ul>
<li>App/</li>
<li>App.test.js</li>
<li>index.js</li>
<li>constants.js</li>
<li>reducer.js</li>
</ul>
</li>
<li>
<p>screens/</p>
<ul>
<li>Home /</li>
<li>index.js</li>
<li>constants.js</li>
<li>actions.js</li>
<li>Loading /</li>
<li>index.js</li>
</ul>
</li>
<li>services/ + DataService/ + index.js
+index.js</li>
<li>registerServiceWorker.js</li>
<li>package.json</li>
</ul>
</li>
</ul>
<p><a href="https://www.kaymathew.com/posts/pt-3-build-a-css-in-js-react-app-with-styled-components-and-priceline-design-system/" target="_blank" rel="nofollow noopener noreferrer">Last time around</a> we explored many new ideas about state management. We talked about actions, action dispatchers, sagas and a whole lot of new ideas. We also setup our app to start using those concepts. Today, we’ll continue applying our knowledge to our application. We’ll be adding functionality that allows the creation of new quotes. We’ll be visually highlighting the latest quote and we’ll also explore local storage as a viable store for our application (for now).</p>
<p><img src="https://preview.ibb.co/ixMvfy/A_Storage_Story.jpg" alt="The Storage Story"></p>
<h3 id="adding-new-liner-entries-efficiently" style="position:relative;"><a href="#adding-new-liner-entries-efficiently" aria-label="adding new liner entries efficiently permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Adding New Liner Entries Efficiently.</h3>
<p>Let’s get straight to it. We’ll be adding functionality to the form available at <code class="language-text">/add</code>. We’ll also be working on multiple form inputs. Let’s create <code class="language-text">src/screens/AddLine/index.js</code> (if you are yet to do so) and get to work. We’ll be importing our dependencies for this module. We’ll start off by importing React and it’s <code class="language-text">Component</code> subclass. We’ll also be using the <code class="language-text">connect</code> method from <code class="language-text">react-redux</code> to add our store state and dispatch methods to the <code class="language-text">this.props</code> property. We’ll also use the <code class="language-text">Box</code>, <code class="language-text">Flex</code>, <code class="language-text">Label</code>, <code class="language-text">Select</code>, <code class="language-text">RedButton</code> and <code class="language-text">Text</code> Priceline components to construct our UI. We’ll import the <code class="language-text">addLiner</code> method from <code class="language-text">src/containers/Home/actions.js</code> (which we’ll soon create) as it will help us add a new “liner” (or quote, if you prefer) to the store. Finally, we also import the <code class="language-text">getAppState</code> method from the <code class="language-text">reducer.js</code> file at <code class="language-text">src/containers/App</code> to help us retrieve the current application state and make it available to this module.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react"</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> connect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react-redux"</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Box<span class="token punctuation">,</span> Flex<span class="token punctuation">,</span> Label<span class="token punctuation">,</span> Select<span class="token punctuation">,</span> RedButton<span class="token punctuation">,</span> Text <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"pcln-design-system"</span>
<span class="token keyword">import</span> Textarea <span class="token keyword">from</span> <span class="token string">"../../components/Form/Textarea"</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> addLiner <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../Home/actions"</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getAppState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../../containers/App/reducer"</span></code></pre></div>
<p>Next, we’ll be adding some code to our <code class="language-text">AddLiner</code> class. We’ll add a constructor to the class. Within our constructor, we’ll first follow a common React practice and inherit from React’s <code class="language-text">Component</code> constructor by calling the <code class="language-text">super</code> method with any provided <code class="language-text">props</code> as the argument. We’ll also be making the <code class="language-text">this.handleSubmit</code> method accessible throughout our class. We then set a default state for our <code class="language-text">AddLine</code> component. You may ask, <em>“I thought we were supposed to use Redux for state? Why are we then setting state in this component?”</em> Well, simply because we use Redux doesn’t mean we can’t use regular state management. We use regular state management for state that is supposed to remain <em>private</em>. For instance, we have two fields:</p>
<ul>
<li>A Select field with a list of authors we can use for any given quote.</li>
<li>A Textbox where we can add the quote.</li>
</ul>
<p>We’ll save them into the component’s state and later, we’ll send them to the store. We are setting a default quote just to keep things from getting boring.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">AddLine</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>handleSubmit <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleSubmit</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
            author<span class="token operator">:</span> <span class="token string">'Immortal Technique'</span><span class="token punctuation">,</span>
            body<span class="token operator">:</span> <span class="token string">'This is the point from which, I die or succeed; Living the struggle, I know I'</span>m alive when <span class="token constant">I</span> bleed<span class="token punctuation">.</span>'
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Next, in our class, we’ll add a render method. We’d like to render a select box pre-filled with a list of authors within our form. To do this, we must first go through an array of authors and we’ll create an <code class="language-text">&lt;option>&lt;/option></code> element for each author. We can do this by calling the <code class="language-text">map</code> method on <code class="language-text">this.props.author</code> (undefined at the moment).</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> authors <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>authors<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">author<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token punctuation">{</span>author<span class="token punctuation">.</span>name<span class="token punctuation">}</span> key<span class="token operator">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">{</span> author<span class="token punctuation">.</span>name <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Next, we construct a little UI with the Priceline Design System Components. We create a form and we assign the <code class="language-text">this.handleSubmit</code> method as its submit event handler. We also assign an inline handler method to the onChange method of the <code class="language-text">&lt;Select/></code> component that simply sets the <code class="language-text">author</code> state value to the selected author. We also make sure the select box selects an author by default. We do this by mapping the <code class="language-text">value</code> attribute to the <code class="language-text">this.state.value</code> option. We also set the <code class="language-text">state.body</code> property to a new value anytime the value of the Text box changes. Finally, we show a pretty red button that triggers the submit action.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>Flex mt<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">}</span> justify<span class="token operator">=</span><span class="token string">"center"</span> alignItems<span class="token operator">=</span><span class="token string">"center"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>Flex flexDirection<span class="token operator">=</span><span class="token string">"column"</span> width<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>Text bold mb<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span> fontSize<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token operator">></span>
        Add<span class="token punctuation">.</span> The Dopest Lines<span class="token punctuation">.</span> Ever<span class="token punctuation">.</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Text<span class="token operator">></span>
      <span class="token operator">&lt;</span>Box mb<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>form onSubmit<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleSubmit<span class="token punctuation">}</span><span class="token operator">></span>
          <span class="token operator">&lt;</span>Flex flexDirection<span class="token operator">=</span><span class="token string">"column"</span> mb<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token operator">></span>
            <span class="token operator">&lt;</span>Label mb<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token operator">></span>Author<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">></span>
            <span class="token operator">&lt;</span>Select
              onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                  author<span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
              <span class="token punctuation">}</span>
              placeholder<span class="token operator">=</span><span class="token string">"Which cat dropped this line?"</span>
              value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>author<span class="token punctuation">}</span>
            <span class="token operator">></span>
              <span class="token punctuation">{</span>authors<span class="token punctuation">}</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>Select<span class="token operator">></span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>Flex<span class="token operator">></span>

          <span class="token operator">&lt;</span>Flex flexDirection<span class="token operator">=</span><span class="token string">"column"</span> mb<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token operator">></span>
            <span class="token operator">&lt;</span>Label mb<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token operator">></span>Lyrics<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">></span>
            <span class="token operator">&lt;</span>Textarea
              rows<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">7</span><span class="token punctuation">}</span>
              value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>body<span class="token punctuation">}</span>
              onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                  body<span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
              <span class="token punctuation">}</span>
              placeholder<span class="token operator">=</span><span class="token string">"Spit that line here, dawg..."</span>
            <span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>Textarea<span class="token operator">></span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>Flex<span class="token operator">></span>

          <span class="token operator">&lt;</span>RedButton type<span class="token operator">=</span><span class="token string">"submit"</span><span class="token operator">></span>Save and go back<span class="token operator">&lt;</span><span class="token operator">/</span>RedButton<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Box<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Flex<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>Flex<span class="token operator">></span>
<span class="token punctuation">)</span></code></pre></div>
<p>With our render method done, we simply need to create the submit event handler. We use <code class="language-text">e.preventDefault</code> to prevent our form from actually trying to send information to a server as that’s not the behaviour we’d like. We also use the <code class="language-text">Array.prototype.reduce</code> method to calculate the largest numeric id within our <code class="language-text">liners</code> collection and we then simply add 1 to the id obtained to get our new id. We then call the <code class="language-text">addLiner</code> method which is available on the <code class="language-text">this.props</code>. We supply the new id, author and body to this method for processing. Finally, we go back to the index by calling <code class="language-text">this.props.history.push('/')</code> which will take us to the root.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">    <span class="token function">handleSubmit</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> newID <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>liners<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">maxId<span class="token punctuation">,</span> liner</span><span class="token punctuation">)</span> <span class="token operator">=></span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>maxId<span class="token punctuation">,</span> liner<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">addLiner</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            id<span class="token operator">:</span> newID<span class="token punctuation">,</span>
            author<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>author<span class="token punctuation">,</span>
            body<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>body
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span>

    <span class="token punctuation">}</span></code></pre></div>
<p>We then need to create our <code class="language-text">mapStateToProps</code> and <code class="language-text">mapDispatchToProps</code> functions that we get to pass to Redux’s <code class="language-text">connect</code> method. We get to add the <code class="language-text">liners</code> and <code class="language-text">authors</code> props to the component.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">mapStateToProps</span> <span class="token operator">=</span> <span class="token parameter">state</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    liners<span class="token operator">:</span> <span class="token function">getAppState</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"liners"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    authors<span class="token operator">:</span> <span class="token function">getAppState</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"authors"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">mapDispatchToProps</span> <span class="token operator">=</span> <span class="token parameter">dispatch</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">addLiner</span><span class="token operator">:</span> <span class="token parameter">data</span> <span class="token operator">=></span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">addLiner</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">connect</span><span class="token punctuation">(</span>
  mapStateToProps<span class="token punctuation">,</span>
  mapDispatchToProps
<span class="token punctuation">)</span><span class="token punctuation">(</span>AddLine<span class="token punctuation">)</span></code></pre></div>
<p>It’s now time to create the <code class="language-text">addLiner</code> method in <code class="language-text">src/containers/Home/actions.js</code>. We’ll create the <code class="language-text">actions.js</code> file at <code class="language-text">src/containers/Home</code>. We’ll import our constants and we’ll use them in the action object.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span>
  <span class="token constant">ADD_LINER_REQUEST</span><span class="token punctuation">,</span>
  <span class="token constant">ADD_LINERS_REQUEST</span><span class="token punctuation">,</span>
  <span class="token constant">ADD_AUTHORS_REQUEST</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./constants"</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">fetchLinersRequest</span> <span class="token operator">=</span> <span class="token parameter">data</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token constant">ADD_LINERS_REQUEST</span><span class="token punctuation">,</span>
    data<span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">addLiner</span> <span class="token operator">=</span> <span class="token parameter">data</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token constant">ADD_LINER_REQUEST</span><span class="token punctuation">,</span>
    data<span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>We then need to update our saga at the Home screen. We’ll edit <code class="language-text">src/screens/Home/saga.js</code>. We’ll setup the dependencies. We get to import the <code class="language-text">all</code> method that combines multiple saga functions. We also import the <code class="language-text">call</code> method that helps us resolve any promises. We use the <code class="language-text">put</code> method to send an action to the Redux store. We also use the <code class="language-text">takeLatest</code> method to take the latest available saga action.</p>
<p>Next, we import the <code class="language-text">getLinersData</code> method and a couple of constants.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> all<span class="token punctuation">,</span> call<span class="token punctuation">,</span> put<span class="token punctuation">,</span> takeLatest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"redux-saga/effects"</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getLinersData <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../../services/DataService"</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">ADD_LINERS_REQUEST</span><span class="token punctuation">,</span> <span class="token constant">ADD_LINER_REQUEST</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./constants"</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">SET_LINERS_DATA</span><span class="token punctuation">,</span> <span class="token constant">ADD_LINER</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../../containers/App/constants"</span></code></pre></div>
<p>We get to our <code class="language-text">addLiner</code> method now. We simply use this as a wrapper that calls our put method with a type and some data.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">addLiner</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">yield</span> <span class="token function">put</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token constant">ADD_LINER</span><span class="token punctuation">,</span>
    payload<span class="token operator">:</span> data<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>…Then in the <code class="language-text">root</code> method, we simply take the latest <code class="language-text">ADD_LINER_REQUEST</code> and call the <code class="language-text">addLiner</code> method above.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">root</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">yield</span> <span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token function">takeLatest</span><span class="token punctuation">(</span><span class="token constant">ADD_LINERS_REQUEST</span><span class="token punctuation">,</span> fetchLiners<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">takeLatest</span><span class="token punctuation">(</span><span class="token constant">ADD_LINER_REQUEST</span><span class="token punctuation">,</span> addLiner<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>We then need to update our reducer at <code class="language-text">src/containers/App/reducer.js</code> and add some code. We’ll be using the <code class="language-text">fromJS</code> method from ImmutableJS to turn Javascript objects or arrays to immutable ones. In our <code class="language-text">AppReducer</code> function, we set the <code class="language-text">liners</code> state property to an array that comprises of the initial liners data along with the new data.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> fromJS <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"immutable"</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">ADD_LINER</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./constants"</span>
<span class="token keyword">const</span> initialState <span class="token operator">=</span> <span class="token function">fromJS</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  liners<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>We then add our reducer code.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">AppReducer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">state <span class="token operator">=</span> initialState<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token constant">ADD_LINER</span><span class="token operator">:</span>
      <span class="token keyword">return</span> state<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>
        <span class="token string">"liners"</span><span class="token punctuation">,</span>
        <span class="token function">fromJS</span><span class="token punctuation">(</span><span class="token punctuation">[</span>state<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"liners"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>action<span class="token punctuation">.</span>payload<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">)</span>

    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token keyword">return</span> state
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>We’ve just completed functionality that enables us to add some new quotes easily. But, it’s not enough, as we’ll also need a way to keep our authors dynamic. Let’s tackle that.</p>
<h4 id="dynamically-fetching-authors" style="position:relative;"><a href="#dynamically-fetching-authors" aria-label="dynamically fetching authors permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Dynamically Fetching Authors.</h4>
<p>We’d like to add a means of keeping our authors list dynamic. This is important, because along in this series, we’ll be adding functionality that allows us to create authors dynamically.</p>
<p><strong>The Game Plan</strong></p>
<p>We need to fetch our authors <em>immediately our app starts</em>. This means using a lifecycle event method to run the action that fetches our authors. That means we’ll be modifying the <code class="language-text">App</code> root component a little to allow us add new behavior.</p>
<p>Let’s edit <code class="language-text">src/containers/App/index.js</code> and get to work. We’ll be adding some new dependencies. We’ll be using the <code class="language-text">withRouter</code> method from <code class="language-text">react-router</code> as we’d like to be able to access some router based properties within our component. We’ll also be importing the <code class="language-text">fetchAuthorsRequest</code> from the Home screen actions.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> withRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react-router"</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> connect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react-redux"</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> fetchAuthorsRequest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../../screens/Home/actions"</span></code></pre></div>
<p>We’ll need to add the <code class="language-text">componentDidMount</code> lifecycle method. We’ll be calling <code class="language-text">this.props.fetchAuthors</code> in this method. We’ll define this method below.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
    <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">fetchAuthors</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span></code></pre></div>
<p>Next, we’ll run the usual <code class="language-text">mapStateToProps</code> and <code class="language-text">mapDispatchToProps</code> where we get to define the <code class="language-text">fetchAuthors</code> method that will make the request to our saga telling it, “Hey, we want all the authors you’ve got”.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">mapStateToProps</span> <span class="token operator">=</span> <span class="token parameter">state</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">mapDispatchToProps</span> <span class="token operator">=</span> <span class="token parameter">dispatch</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">fetchAuthors</span><span class="token operator">:</span> <span class="token parameter">data</span> <span class="token operator">=></span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">fetchAuthorsRequest</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">withRouter</span><span class="token punctuation">(</span>
  <span class="token function">connect</span><span class="token punctuation">(</span>
    mapStateToProps<span class="token punctuation">,</span>
    mapDispatchToProps
  <span class="token punctuation">)</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
<span class="token punctuation">)</span></code></pre></div>
<p>Next, we must define the recently used <code class="language-text">fetchAuthorsRequest</code> action dispatcher. We’ll add the <code class="language-text">fetchAuthorsRequest</code> method to the <code class="language-text">actions.js</code> file at <code class="language-text">src/screens/Home</code>. We’re simply importing a couple of constants and we then define our action object. This will dispatch the <code class="language-text">ADD_AUTHORS_REQUEST</code> action to our saga.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span>
  <span class="token constant">ADD_LINER_REQUEST</span><span class="token punctuation">,</span>
  <span class="token constant">ADD_LINERS_REQUEST</span><span class="token punctuation">,</span>
  <span class="token constant">ADD_AUTHORS_REQUEST</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./constants"</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">fetchAuthorsRequest</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token constant">ADD_AUTHORS_REQUEST</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Next, we’ll add a saga for this request. We’ll define the <code class="language-text">fetchAuthors</code> generator function at <code class="language-text">src/screens/Home/saga.js</code>. We’ll start off by importing the <code class="language-text">getAuthorsData</code> method from the Data Service we created previously. We also import a couple of constants we’ll be using. We then use the special <code class="language-text">call</code> method provided by Redux-Saga to resolve the promise returned by the <code class="language-text">getAuthorsData</code> method. We then call the <code class="language-text">put</code> method providing it with some required parameters (type and payload).</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> getAuthorsData <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../../services/DataService"</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">ADD_AUTHORS_REQUEST</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./constants"</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">SET_AUTHORS_DATA</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../../containers/App/constants"</span>

<span class="token keyword">export</span> <span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">fetchAuthors</span><span class="token punctuation">(</span><span class="token parameter">payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token function">call</span><span class="token punctuation">(</span>getAuthorsData<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token keyword">yield</span> <span class="token function">put</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token constant">SET_AUTHORS_DATA</span><span class="token punctuation">,</span>
    payload<span class="token operator">:</span> <span class="token punctuation">{</span>
      data<span class="token operator">:</span> response<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>We’ll quickly define the imported constants. Editing <code class="language-text">src/containers/App/constants.js</code>.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">SET_AUTHORS_DATA</span> <span class="token operator">=</span> <span class="token string">"app/SET_AUTHORS_DATA"</span></code></pre></div>
<p>Also editing <code class="language-text">src/screens/Home/constants.js</code>.</p>
<p><code class="language-text"></code>js
export const ADD<em>AUTHORS</em>REQUEST = ‘app/ADD<em>AUTHORS</em>REQUEST’;</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">We'll be defining the `getAuthorsData` method at the Data Service. Let's edit `src/services/DataService/index.js`. We'll be creating the `authors.json` file at `src/assets/data` shortly. In the meantime, we import the JSON data from it, and we resolve that data in a promise that we return.

```js
import authorsData from "../../assets/data/authors.json";

export const getAuthorsData = (id = null) => {
    if (id) {
        let author = authorsData.filter(author => author.id === id);
        return new Promise(resolve => resolve(author));
    }

    return new Promise(resolve => resolve(authorsData));
};</code></pre></div>
<p>It’s now time to create our <code class="language-text">authors.json</code> along with the information. Let’s use this file as a base to build on. Create <code class="language-text">src/assets/data/authors.json</code> and add test data.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token punctuation">;</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">"Immortal Technique"</span><span class="token punctuation">,</span>
    government_name<span class="token operator">:</span> <span class="token string">"Felipe Andres Coronel"</span><span class="token punctuation">,</span>
    photo<span class="token operator">:</span> <span class="token string">"immortal-technique.jpg"</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">"Eminem"</span><span class="token punctuation">,</span>
    government_name<span class="token operator">:</span> <span class="token string">"Marshall Mathers"</span><span class="token punctuation">,</span>
    photo<span class="token operator">:</span> <span class="token string">"eminem.jpg"</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">"Andre 3000"</span><span class="token punctuation">,</span>
    photo<span class="token operator">:</span> <span class="token string">"andre-3000.jpg"</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span></code></pre></div>
<p>Great! All we need to do now is add a reducer for this action. We’ll start by importing the <code class="language-text">SET_AUTHORS_DATA</code> constant. We then have the <code class="language-text">authors</code> property of the initial state as being an empty object. We check for our <code class="language-text">SET_AUTHORS_DATA</code> action and if our action was called we simply set the erstwhile empty <code class="language-text">authors</code> property in the <code class="language-text">initialState</code> array to the action’s payload data.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">SET_AUTHORS_DATA</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./constants"</span>

<span class="token keyword">const</span> initialState <span class="token operator">=</span> <span class="token function">fromJS</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ...Previous code here.</span>
  authors<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">AppReducer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">state <span class="token operator">=</span> initialState<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token constant">SET_AUTHORS_DATA</span><span class="token operator">:</span>
      <span class="token keyword">return</span> state<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"authors"</span><span class="token punctuation">,</span> action<span class="token punctuation">.</span>payload<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
    <span class="token comment">// ...Previous code goes here.</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token keyword">return</span> state
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Heading back to our browser tab at <code class="language-text">http://localhost:3000</code>, we see our list of authors show up in the select box. That’s awesome! If we hit the submit button, we get to see our new entry with the selected author. Isn’t that great?</p>
<p><img src="https://cdn.steemitimages.com/DQmSi9h899VwckeohzJbuxwSTK17YzE5w8jo7PLjNby6SCh/Add-Liner.gif" alt="Dynamic entry adding in action"></p>
<h4 id="persisting-data-to-localstorage" style="position:relative;"><a href="#persisting-data-to-localstorage" aria-label="persisting data to localstorage permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Persisting Data To LocalStorage.</h4>
<p>Earlier, we installed <code class="language-text">redux-localstorage</code>. We need it for persisting data to the local storage. We can apply the middleware by updating some code at our Redux store. We first start by importing the <code class="language-text">compose</code> Redux method we also import the <code class="language-text">redux-localstorage</code> middleware. In our <code class="language-text">createStoreWithMiddleware</code> method call, we use the <code class="language-text">compose</code> method to compose our <code class="language-text">persistState</code> function. We provide <code class="language-text">undefined</code> as the first argument. This makes sure we sync all of our Redux store to local storage. We also define the <code class="language-text">slicer</code>, <code class="language-text">serialize</code>, <code class="language-text">deserialize</code> and <code class="language-text">merge</code> methods.</p>
<p>We’ll go through the functionality of these methods:</p>
<ul>
<li><strong>The <code class="language-text">slicer</code> method</strong>: returns a portion of the state.</li>
<li><strong>The <code class="language-text">serialize</code> method</strong>: can be used to perform an action before the data is saved or serialized to local storage.</li>
<li><strong>The <code class="language-text">deserialize</code> method</strong>: is used to perform an action <em>before</em> data is retrieved or deserialized from local storage.</li>
<li><strong>The <code class="language-text">merge</code> method</strong>: is used to merge the initial state and the persisted state. Since we’re using immutable, we’re merging the persisted data along with the initial state data through Immutable’s <code class="language-text">mergeDeep</code> method.</li>
</ul>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> compose <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"redux"</span>
<span class="token keyword">import</span> persistState <span class="token keyword">from</span> <span class="token string">"redux-localstorage"</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStoreWithMiddleware</span><span class="token punctuation">(</span>
  rootReducer<span class="token punctuation">,</span>
  initialState<span class="token punctuation">,</span>
  <span class="token function">compose</span><span class="token punctuation">(</span>
    <span class="token function">persistState</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">slicer</span><span class="token operator">:</span> <span class="token parameter">paths</span> <span class="token operator">=></span> <span class="token parameter">state</span> <span class="token operator">=></span> state<span class="token punctuation">,</span>
      <span class="token function-variable function">serialize</span><span class="token operator">:</span> <span class="token parameter">subset</span> <span class="token operator">=></span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>subset<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function-variable function">deserialize</span><span class="token operator">:</span> <span class="token parameter">serializedData</span> <span class="token operator">=></span> <span class="token function">fromJS</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>serializedData<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function-variable function">merge</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">initialState<span class="token punctuation">,</span> persistedState</span><span class="token punctuation">)</span> <span class="token operator">=></span>
        initialState<span class="token punctuation">.</span><span class="token function">mergeDeep</span><span class="token punctuation">(</span>persistedState<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">)</span></code></pre></div>
<p>We’ll stop at this juncture now. We’ve done a lot of work and we deserve some ice cream now.</p>
<h4 id="conclusion" style="position:relative;"><a href="#conclusion" aria-label="conclusion permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Conclusion</h4>
<p>In this tutorial, we covered multiple concepts. We learned more about state management in large applications. We also wrote some more code to add more functionality. We then added the ability to persist our redux store to local storage.</p>
<p>In our next tutorial, we’ll explore route based filtering from our store.</p>
<h4 id="resources" style="position:relative;"><a href="#resources" aria-label="resources permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Resources</h4>
<ul>
<li><a href="https://redux-saga.js.org/docs/introduction/" target="_blank" rel="nofollow noopener noreferrer">An Introduction to Redux Saga</a></li>
<li><a href="https://github.com/elgerlambert/redux-localstorage" target="_blank" rel="nofollow noopener noreferrer">Redux LocalStorage Middleware Introduction</a></li>
<li><a href="https://github.com/creatrixity/fire-liners" target="_blank" rel="nofollow noopener noreferrer">FireLiners Github Code</a></li>
</ul>
<h4 id="curriculum" style="position:relative;"><a href="#curriculum" aria-label="curriculum permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Curriculum</h4>
<ul>
<li><a href="https://www.kaymathew.com/posts/pt-1-build-a-css-in-js-react-app-with-styled-components-and-priceline-design-system/" target="_blank" rel="nofollow noopener noreferrer">Part 1: Build a CSS-in-JS React App with Styled Components and Priceline Design System</a></li>
<li><a href="https://www.kaymathew.com/posts/pt-2-build-a-css-in-js-react-app-with-styled-components-and-priceline-design-system/" target="_blank" rel="nofollow noopener noreferrer">Part 2: Build a CSS-in-JS React App with Styled Components and Priceline Design System</a></li>
<li><a href="https://www.kaymathew.com/posts/pt-3-build-a-css-in-js-react-app-with-styled-components-and-priceline-design-system/" target="_blank" rel="nofollow noopener noreferrer">Part 3: Build a CSS-in-JS React App with Styled Components and Priceline Design System</a></li>
</ul></div></div></div><div class="Post-module--post__footer--3WzWU"><div><p class="Meta-module--meta__date--29eD7">Published <!-- -->7 Jun 2018</p></div><div class="Tags-module--tags--1L_ct"><ul class="Tags-module--tags__list--91FqN"><li class="Tags-module--tags__list-item--1M30P"><a class="Tags-module--tags__list-item-link--3SL_8" href="/tag/javascript/">Javascript</a></li><li class="Tags-module--tags__list-item--1M30P"><a class="Tags-module--tags__list-item-link--3SL_8" href="/tag/react/">React</a></li></ul></div><div class="Author-module--author--2Yefr"><p>Hi there! I&#x27;m a Nigerian software engineer obsessed with building better experiences for users one keystroke at a time.<a class="Author-module--author__bio-twitter--n-O9n" href="https://www.twitter.com/@creatrixity" rel="noopener noreferrer" target="_blank"><strong>Caleb &quot;Kay&quot; Mathew</strong> on Twitter</a></p></div></div><div class="Post-module--post__comments--25y6I"></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/pt-4-build-a-css-in-js-react-app-with-styled-components-and-priceline-design-system/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-f8d6bc3f3d1ba44ac510.js"],"app":["/app-bfb28f4816626504eedd.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-fd4fb51a6fac1c18bdde.js"],"component---src-templates-categories-list-template-js":["/component---src-templates-categories-list-template-js-2181ec47d28e5c35d3e9.js"],"component---src-templates-category-template-js":["/component---src-templates-category-template-js-5aae539c8196fecbba8d.js"],"component---src-templates-index-template-js":["/component---src-templates-index-template-js-05fc9723794f32b59bfd.js"],"component---src-templates-not-found-template-js":["/component---src-templates-not-found-template-js-658f4507169e2836a377.js"],"component---src-templates-page-template-js":["/component---src-templates-page-template-js-e5d26cb3d79d752d51d9.js"],"component---src-templates-post-template-js":["/component---src-templates-post-template-js-ec77146d0cf71b2b963c.js"],"component---src-templates-tag-template-js":["/component---src-templates-tag-template-js-fb68c7b5b7b042469c6b.js"],"component---src-templates-tags-list-template-js":["/component---src-templates-tags-list-template-js-2d7007993fc2bf0f9caf.js"]};/*]]>*/</script><script src="/polyfill-f8d6bc3f3d1ba44ac510.js" nomodule=""></script><script src="/component---src-templates-post-template-js-ec77146d0cf71b2b963c.js" async=""></script><script src="/643651a62fb35a9bb4f20061cb1f214a352d7976-aa8c016fcb5d24453301.js" async=""></script><script src="/cd95ea5cbd2c605f26db819f07999610c9ff4310-dad06fceb22da7c71227.js" async=""></script><script src="/styles-407fe62976dc5310c43e.js" async=""></script><script src="/app-bfb28f4816626504eedd.js" async=""></script><script src="/532a2f07-92db97c0addf07d5cb73.js" async=""></script><script src="/framework-b17a64ad725e0b3c1338.js" async=""></script><script src="/webpack-runtime-6e8f4530e65e044697da.js" async=""></script></body></html>