<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.f0f0fd62dadbeb747e4d.css" id="gatsby-global-css">html{font-size:100}body{margin:0 0 0 calc(100vw - 100%);color:#222;line-height:1.625;font-size:1rem;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body,h1,h2,h3,h4,h5,h6{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif}h1,h2,h3,h4,h5,h6{font-weight:600}h1{font-size:2.5rem;line-height:3.25rem;margin-top:6.5rem;margin-bottom:1.625rem}h2{font-size:1.6875rem;line-height:2.4375rem}h2,h3{margin-top:3.25rem;margin-bottom:.8125rem}h3{font-size:1.375rem;line-height:1.625rem}h4{font-size:1.2rem;margin-top:2.4375rem}h4,h5{line-height:1.625rem;margin-bottom:.8125rem}h5,h6{font-size:1rem;margin-top:4.0625rem}h6{line-height:1.625rem;margin-bottom:.8125rem}img{max-width:100%;margin:inherit auto}hr,img{border:0;display:block}hr{color:#222;height:26px;margin:3.25rem auto;background-size:100% 26px;background-image:linear-gradient(180deg,transparent 1px,transparent 11px,#222 0,#222 15px,transparent 0,transparent 26px);width:6.25rem}a{color:#5d93ff;text-decoration:none}a:active,a:focus,a:hover{color:#f7a046}b,strong{font-weight:600}ul{list-style:square;margin-bottom:1.625rem}ul li{padding:0 .3125rem;margin-bottom:.625rem}p{line-height:1.625rem;margin-bottom:1.625rem}blockquote{padding:0;font-style:italic;text-align:center}figure{display:block;width:100%;height:auto}figcaption{line-height:1.21875rem;margin-top:.40625rem;color:#222;font-size:.875rem;font-style:italic;margin-bottom:0;text-align:center}.anchor{margin-left:-1.875rem!important;padding-right:.875rem!important}@media screen and (min-width:685px){figure.float-left,figure.float-right{max-width:19.375rem;padding:0 1.625rem}.float-right{float:right}.float-left{float:left}}code[class*=language-],pre[class*=language-]{color:#fff;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;text-shadow:0 -.1em .2em #000;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}:not(pre)>code[class*=language-],pre[class*=language-]{background:#141414}pre[class*=language-]{border-radius:.5em;border:.3em solid #545454;box-shadow:inset 1px 1px .5em #000;margin:.5em 0;overflow:auto;padding:1em}pre[class*=language-]::selection{background:#27292a}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:hsla(0,0%,93%,.15)}:not(pre)>code[class*=language-]{border-radius:.3em;border:.13em solid #545454;box-shadow:inset 1px 1px .3em -.1em #000;padding:.15em .2em .05em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#787878}.namespace,.token.punctuation{opacity:.7}.token.boolean,.token.deleted,.token.number,.token.tag{color:#cf694a}.token.builtin,.token.constant,.token.keyword,.token.property,.token.selector,.token.symbol{color:#f9ee9a}.language-css .token.string,.style .token.string,.token.attr-name,.token.attr-value,.token.char,.token.entity,.token.inserted,.token.operator,.token.string,.token.url,.token.variable{color:#919e6b}.token.atrule{color:#7386a5}.token.important,.token.regex{color:#e9c163}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}pre[data-line]{padding:1em 0 1em 3em;position:relative}.language-markup .token.attr-name,.language-markup .token.punctuation,.language-markup .token.tag{color:#ad895c}.token{position:relative;z-index:1}.line-highlight{background:rgba(84,84,84,.25);background:linear-gradient(90deg,rgba(84,84,84,.1) 70%,rgba(84,84,84,0));border-bottom:1px dashed #545454;border-top:1px dashed #545454;left:0;line-height:inherit;margin-top:.75em;padding:inherit 0;pointer-events:none;position:absolute;right:0;white-space:pre;z-index:0}.line-highlight:before,.line-highlight[data-end]:after{background-color:#8794a6;border-radius:999px;box-shadow:0 1px #fff;color:#f5f2f0;content:attr(data-start);font:700 65%/1.5 sans-serif;left:.6em;min-width:1em;padding:0 .5em;position:absolute;text-align:center;text-shadow:none;top:.4em;vertical-align:.3em}.line-highlight[data-end]:after{bottom:.4em;content:attr(data-end);top:auto}.Author-module--author__photo--36xCH{display:inline-block;margin-bottom:0;border-radius:50%;background-clip:padding-box}.Author-module--author__title--2CaTb{font-size:1.125rem;font-weight:600;line-height:1.82813rem;margin:.8125rem 0}.Author-module--author__title-link--Yrism,.Author-module--author__title-link--Yrism:focus,.Author-module--author__title-link--Yrism:hover{color:#222}.Author-module--author__subtitle--cAaEB{color:#888;line-height:1.625rem;margin-bottom:1.625rem}.Icon-module--icon--Gpyvw{display:inline-block;width:1em;height:1em;stroke-width:0;stroke:currentColor;fill:currentColor;font-style:normal;font-weight:400;speak:none;margin-right:.2em;text-align:center;font-variant:normal;text-transform:none;line-height:1em;margin-left:.2em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.Contacts-module--contacts--1rGd1{margin-bottom:1.625rem}.Contacts-module--contacts__list--3OgdW{display:flex;flex-flow:row wrap;flex-grow:0;flex-shrink:0;list-style:none;padding:0;margin:.625rem -.1875rem;width:8.75rem}.Contacts-module--contacts__list-item--16p9q{padding:0;margin:.25rem;display:flex;align-content:center;align-items:center;justify-content:center;height:35px;width:2.1875rem;line-height:2.1875rem;border-radius:50%;text-align:center;border:1px solid #ebebeb}.Contacts-module--contacts__list-item-link--2MIDn{border:0;display:flex;color:#222}.Contacts-module--contacts__list-item-link--2MIDn:focus,.Contacts-module--contacts__list-item-link--2MIDn:hover{color:#5d93ff}.Copyright-module--copyright--1ariN{color:#b6b6b6;font-size:.875rem}.Menu-module--menu--Efbin{margin-bottom:1.625rem}.Menu-module--menu__list--31Zeo{list-style:none;padding:0;margin:0}.Menu-module--menu__list-item--1lJ6B{padding:0;margin:.625rem 0}.Menu-module--menu__list-item-link--10Ush{font-size:1rem;color:#222;font-weight:400;border:0}.Menu-module--menu__list-item-link--10Ush:focus,.Menu-module--menu__list-item-link--10Ush:hover{color:#5d93ff;border-bottom:1px solid #5d93ff}.Menu-module--menu__list-item-link--active--2CbUO{color:#222;border-bottom:1px solid #222}.Sidebar-module--sidebar--X4z2p{width:100%}.Sidebar-module--sidebar__inner--Jdc5s{position:relative;padding:1.5625rem 1.25rem 0}@media screen and (min-width:685px){.Sidebar-module--sidebar--X4z2p{width:calc(41.625% - 1.09375rem)}.Sidebar-module--sidebar--X4z2p:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.Sidebar-module--sidebar--X4z2p:last-child{margin-right:0}.Sidebar-module--sidebar--X4z2p:nth-child(12n){margin-right:0;float:right}.Sidebar-module--sidebar--X4z2p:nth-child(12n+1){clear:both}.Sidebar-module--sidebar__inner--Jdc5s{padding:1.875rem 1.25rem 0}.Sidebar-module--sidebar__inner--Jdc5s:after{background:#e6e6e6;background:linear-gradient(180deg,#e6e6e6 0,#e6e6e6 48%,#fff);position:absolute;content:"";width:.0625rem;height:540px;top:30px;right:-10px;bottom:0}}@media screen and (min-width:960px){.Sidebar-module--sidebar--X4z2p{width:calc(33.3% - 1.25rem)}.Sidebar-module--sidebar--X4z2p:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.Sidebar-module--sidebar--X4z2p:last-child{margin-right:0}.Sidebar-module--sidebar--X4z2p:nth-child(3n){margin-right:0;float:right}.Sidebar-module--sidebar--X4z2p:nth-child(3n+1){clear:both}.Sidebar-module--sidebar__inner--Jdc5s{padding:2.5rem}}.Layout-module--layout--3Pyz6{max-width:66.875rem;margin-left:auto;margin-right:auto}.Layout-module--layout--3Pyz6:before{content:"";display:table}.Layout-module--layout--3Pyz6:after{content:"";display:table;clear:both}.Feed-module--feed__item--2D5rE{margin-bottom:2.03125rem}.Feed-module--feed__item--2D5rE:last-child{margin-bottom:.8125rem}.Feed-module--feed__item-title--3nigr{font-size:1.6875rem;line-height:2.4375rem;margin-top:0;margin-bottom:.8125rem}.Feed-module--feed__item-title-link--iFMRs{color:#222}.Feed-module--feed__item-title-link--iFMRs:focus,.Feed-module--feed__item-title-link--iFMRs:hover{color:#222;border-bottom:1px solid #222}.Feed-module--feed__item-description--1uO8e{font-size:1rem;line-height:1.625rem;margin-bottom:1.21875rem}.Feed-module--feed__item-meta-time--3t1fg{font-size:.875rem;color:#222;font-weight:600;text-transform:uppercase}.Feed-module--feed__item-meta-divider--N-Q0A{margin:0 .3125rem}.Feed-module--feed__item-meta-category-link--23f8F{font-size:.875rem;color:#f7a046;font-weight:600;text-transform:uppercase}.Feed-module--feed__item-meta-category-link--23f8F:focus,.Feed-module--feed__item-meta-category-link--23f8F:hover{color:#5d93ff}.Feed-module--feed__item-readmore--1u6bI{font-size:1rem;color:#5d93ff}.Feed-module--feed__item-readmore--1u6bI:focus,.Feed-module--feed__item-readmore--1u6bI:hover{color:#5d93ff;border-bottom:1px solid #5d93ff}.Page-module--page--2nMky{margin-bottom:3.25rem}.Page-module--page__inner--2M_vz{padding:1.5625rem 1.25rem}.Page-module--page__title--GPD8L{font-size:2.5rem;font-weight:600;line-height:3.25rem;margin-top:0;margin-bottom:2.35625rem}.Page-module--page__body--Ic6i6{font-size:1rem;line-height:1.625rem;margin:0 0 1.625rem}@media screen and (min-width:685px){.Page-module--page--2nMky{width:calc(58.275% - .78125rem)}.Page-module--page--2nMky:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.Page-module--page--2nMky:last-child{margin-right:0}.Page-module--page--2nMky:nth-child(12n){margin-right:0;float:right}.Page-module--page--2nMky:nth-child(12n+1){clear:both}.Page-module--page__inner--2M_vz{padding:1.875rem 1.25rem}}@media screen and (min-width:960px){.Page-module--page--2nMky{width:calc(66.6% - .625rem)}.Page-module--page--2nMky:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.Page-module--page--2nMky:last-child{margin-right:0}.Page-module--page--2nMky:nth-child(3n){margin-right:0;float:right}.Page-module--page--2nMky:nth-child(3n+1){clear:both}.Page-module--page__inner--2M_vz{padding:2.5rem 2.1875rem}}.Pagination-module--pagination--2H3nO{margin-top:3.25rem;display:flex}.Pagination-module--pagination__prev--bet5s{width:50%;text-align:left}.Pagination-module--pagination__prev-link--1Nzs6{color:#f7a046;font-size:1.625rem;font-weight:700}.Pagination-module--pagination__prev-link--1Nzs6:focus,.Pagination-module--pagination__prev-link--1Nzs6:hover{color:#5d93ff}.Pagination-module--pagination__prev-link--disable--Yklx9{pointer-events:none;color:#bbb}.Pagination-module--pagination__next--3hFiN{width:50%;text-align:right}.Pagination-module--pagination__next-link--3FUtA{color:#f7a046;font-size:1.625rem;font-weight:700}.Pagination-module--pagination__next-link--3FUtA:focus,.Pagination-module--pagination__next-link--3FUtA:hover{color:#5d93ff}.Pagination-module--pagination__next-link--disable--30UwZ{pointer-events:none;color:#bbb}.Author-module--author--2Yefr{border-top:1px solid #e6e6e6;max-width:40rem;padding-top:1.25rem;line-height:1.625rem;margin-top:1.625rem;margin-bottom:3.25rem}.Author-module--author__bio-twitter--n-O9n{display:block;text-decoration:underline}@media screen and (min-width:685px){.Author-module--author--2Yefr{margin-left:auto;margin-right:auto}}.Content-module--content--3p512{max-width:59.0625rem;padding:0 .9375rem;margin:0 auto}.Content-module--content__title--2BDW9{font-size:2rem;max-width:40rem;font-weight:600;text-align:center;line-height:2.68125rem;margin:1.625rem auto 0}.Content-module--content__body--2TrQ- figure{margin-bottom:1.625rem}.Content-module--content__body--2TrQ- figure blockquote{font-style:italic;text-align:center;margin-top:0;padding:1.625rem 0}.Content-module--content__body--2TrQ- figure blockquote p{max-width:40rem;font-size:1.6817rem;margin-top:0;margin-bottom:1.625rem;line-height:2.4375rem}.Content-module--content__body--2TrQ- a{text-decoration:underline}.Content-module--content__body--2TrQ- *{max-width:40rem;margin-left:auto;margin-right:auto}.Content-module--content__body--2TrQ- img{max-width:100%}@media screen and (min-width:960px){.Content-module--content--3p512{padding:0}.Content-module--content__title--2BDW9{font-size:3rem;line-height:3.65625rem;margin-top:3.65625rem;margin-bottom:2.4375rem}.Content-module--content__body--2TrQ-,.Content-module--content__body--2TrQ- p{font-size:1.125rem;line-height:1.82813rem;margin-bottom:1.82813rem}}.Meta-module--meta__date--29eD7{font-style:italic}.Tags-module--tags--1L_ct{margin-bottom:.8125rem}.Tags-module--tags__list--91FqN{list-style:none;margin:0 -.625rem;padding:0}.Tags-module--tags__list-item--1M30P{display:inline-block;margin:.625rem .3125rem}.Tags-module--tags__list-item-link--3SL_8{display:inline-block;height:35px;padding:0 1.5rem;line-height:2.1875rem;border:1px solid #e6e6e6;text-decoration:none;border-radius:1.25rem;color:#222}.Tags-module--tags__list-item-link--3SL_8:focus,.Tags-module--tags__list-item-link--3SL_8:hover{color:#5d93ff}.Post-module--post__comments--25y6I,.Post-module--post__footer--3WzWU{max-width:40rem;margin:0 auto;padding:0 .9375rem}.Post-module--post__home-button--16Kl0{display:block;max-width:5.625rem;height:35px;padding:0 1.5rem;line-height:2.1875rem;text-align:center;color:#222;border:1px solid #e6e6e6;border-radius:1.25rem;font-size:1rem;font-weight:400;margin-left:auto;margin-right:auto;margin-top:1.625rem}.Post-module--post__home-button--16Kl0:focus,.Post-module--post__home-button--16Kl0:hover{color:#5d93ff}@media screen and (min-width:960px){.Post-module--post__comments--25y6I,.Post-module--post__footer--3WzWU{padding:0}.Post-module--post__home-button--16Kl0{position:fixed;max-width:auto;margin:0;top:30px;left:30px}}</style><meta name="generator" content="Gatsby 2.32.13"/><link rel="alternate" type="application/rss+xml" title="Kay Mathew Blog" href="/rss.xml"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-73379983-2"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){window.dataLayer && window.dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-73379983-2', {"send_page_view":false});
      }
      </script><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="icon" href="/favicon-32x32.png?v=56b2458559ac491d31a0971e8c393b2a" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#F7A046"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=56b2458559ac491d31a0971e8c393b2a"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=56b2458559ac491d31a0971e8c393b2a"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=56b2458559ac491d31a0971e8c393b2a"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=56b2458559ac491d31a0971e8c393b2a"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=56b2458559ac491d31a0971e8c393b2a"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=56b2458559ac491d31a0971e8c393b2a"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=56b2458559ac491d31a0971e8c393b2a"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=56b2458559ac491d31a0971e8c393b2a"/><title data-react-helmet="true">Pt 2: Build a CSS-in-JS React App with Styled Components and Priceline Design System - Kay Mathew Blog</title><meta data-react-helmet="true" name="description" content="Last time on this series, we explored the CSS-in-JS paradigm and code splitting with Webpack. We also built a minimal app interface that uses styled components for displaying notable lines from hip hop verses.
Today, we&#x27;ll do some more development. We&#x27;ll learn how to lazy-load on-demand route based code (i.e code specific to a certain route). We&#x27;ll also explore more Priceline components and create some of our own components that leverage preexisting Priceline components. "/><meta data-react-helmet="true" property="og:site_name" content="Pt 2: Build a CSS-in-JS React App with Styled Components and Priceline Design System - Kay Mathew Blog"/><meta data-react-helmet="true" property="og:image" content="https://kaymathew.comhttps://steemitimages.com/256x512/https://steemitimages.com/DQmevss9imjh5bnRZyEfqu66RnAoQEtcSJEMB9Lax6qWsvf/Lazy-Flow.jpg"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="Pt 2: Build a CSS-in-JS React App with Styled Components and Priceline Design System - Kay Mathew Blog"/><meta data-react-helmet="true" name="twitter:description" content="Last time on this series, we explored the CSS-in-JS paradigm and code splitting with Webpack. We also built a minimal app interface that uses styled components for displaying notable lines from hip hop verses.
Today, we&#x27;ll do some more development. We&#x27;ll learn how to lazy-load on-demand route based code (i.e code specific to a certain route). We&#x27;ll also explore more Priceline components and create some of our own components that leverage preexisting Priceline components. "/><meta data-react-helmet="true" name="twitter:image" content="https://kaymathew.comhttps://steemitimages.com/256x512/https://steemitimages.com/DQmevss9imjh5bnRZyEfqu66RnAoQEtcSJEMB9Lax6qWsvf/Lazy-Flow.jpg"/><link as="script" rel="preload" href="/webpack-runtime-6e8f4530e65e044697da.js"/><link as="script" rel="preload" href="/framework-b17a64ad725e0b3c1338.js"/><link as="script" rel="preload" href="/532a2f07-92db97c0addf07d5cb73.js"/><link as="script" rel="preload" href="/app-bfb28f4816626504eedd.js"/><link as="script" rel="preload" href="/styles-407fe62976dc5310c43e.js"/><link as="script" rel="preload" href="/cd95ea5cbd2c605f26db819f07999610c9ff4310-dad06fceb22da7c71227.js"/><link as="script" rel="preload" href="/643651a62fb35a9bb4f20061cb1f214a352d7976-aa8c016fcb5d24453301.js"/><link as="script" rel="preload" href="/component---src-templates-post-template-js-ec77146d0cf71b2b963c.js"/><link as="fetch" rel="preload" href="/page-data/posts/pt-2-build-a-css-in-js-react-app-with-styled-components-and-priceline-design-system/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/251939775.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/401334301.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/4120999787.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="Layout-module--layout--3Pyz6"><div><a class="Post-module--post__home-button--16Kl0" href="/">All Articles</a><div><div class="Content-module--content--3p512"><h1 class="Content-module--content__title--2BDW9">Pt 2: Build a CSS-in-JS React App with Styled Components and Priceline Design System</h1><div class="Content-module--content__body--2TrQ-"><p>Last time on this series, we explored the CSS-in-JS paradigm and code splitting with Webpack. We also built a minimal app interface that uses styled components for displaying notable lines from hip hop verses.</p>
<p>Today, we’ll do some more development. We’ll learn how to lazy-load on-demand route based code (i.e code specific to a certain route). We’ll also explore more Priceline components and create some of our own components that leverage preexisting Priceline components.</p>
<p><img src="https://steemitimages.com/DQmevss9imjh5bnRZyEfqu66RnAoQEtcSJEMB9Lax6qWsvf/Lazy-Flow.jpg" alt="Lazy-Flow.jpg"></p>
<h4 id="what-will-i-learn" style="position:relative;"><a href="#what-will-i-learn" aria-label="what will i learn permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What Will I Learn?</h4>
<p>At the end of this tutorial, we should be fully up to speed on the following concepts:</p>
<ul>
<li>Lazy Loading Route Specific Code.</li>
<li>Creating Custom Styled Components Leveraging Preexisting Styled Components.</li>
<li>Designing an Accessible API for our Custom Styled Components.</li>
</ul>
<h4 id="requirements" style="position:relative;"><a href="#requirements" aria-label="requirements permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Requirements</h4>
<ul>
<li><a href="https://nodejs.org" target="_blank" rel="nofollow noopener noreferrer">Node.js</a> 8.0 or greater.</li>
<li><a href="https://npmjs.com" target="_blank" rel="nofollow noopener noreferrer">NPM</a> 3.0 or greater.</li>
<li><a href="https://yarnpkg.com" target="_blank" rel="nofollow noopener noreferrer">Yarn</a> package manager</li>
<li><a href="https://github.com" target="_blank" rel="nofollow noopener noreferrer">Git</a></li>
<li><a href="https://github.com/creatrixity/fireliners" target="_blank" rel="nofollow noopener noreferrer">Previous code on this series</a></li>
<li>An intermediate level of <a href="https://reactjs.org" target="_blank" rel="nofollow noopener noreferrer">ReactJS</a> knowledge.</li>
<li>Keen interest and patience.</li>
</ul>
<h4 id="introduction" style="position:relative;"><a href="#introduction" aria-label="introduction permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Introduction</h4>
<p>On our previous tutorial in this series, we got to understand the benefits we can obtain by using CSS-in-JS as our styling system. We also built the initial interface of a CSS-in-JS React app we called FireLiners.</p>
<p>Let’s dive right in to this tutorial! As a refresher, it’s important to remember that we currently maintain the below application structure:</p>
<ul>
<li>
<p><strong>fire-liners/</strong></p>
<ul>
<li><strong>config/</strong></li>
<li>jest/</li>
<li>env.js</li>
<li>polyfills.js</li>
<li>webpack.config.dev.js</li>
<li>webpack.config.prod.js</li>
<li>webpackDevServer.config.js</li>
<li><strong>node_modules/</strong></li>
<li><strong>public/</strong></li>
<li>favicon.ico</li>
<li>index.html</li>
<li>manifest.json</li>
<li><strong>scripts/</strong></li>
<li>build.js</li>
<li>start.js</li>
<li>test.js</li>
<li><strong>src/</strong></li>
<li>
<p>components/</p>
<ul>
<li>Header/</li>
<li>index.js</li>
<li>logo.svg</li>
</ul>
</li>
<li>
<p>containers/</p>
<ul>
<li>App/</li>
<li>App.test.js</li>
<li>index.js</li>
</ul>
</li>
<li>registerServiceWorker.js</li>
<li>package.json</li>
</ul>
</li>
</ul>
<p>Previously, we took a look at code splitting as a performance tool. Today, we’ll be gaining an understanding lazy loading as a tool to further optimize load times.</p>
<p><strong>What is Lazy Loading?</strong></p>
<p>Lazy loading is the retrieval of a resource or resources <em>only when they are needed</em>. Lazy loading can help us speed up our application as we are only going to load some components when we need them as opposed to allowing them lump up our initial bundling.</p>
<p>We can use lazy loading techniques to great effect in multiple cases. For instance, let’s assume we had a modal in our application that shows information about a particular user when you click on the users name. We don’t need the modal component <em>until</em> we click the users name. Lazy loading the modal component is our best option for performance as this will help us reduce the code weight of the initial code needed to run our application.</p>
<p><strong>Getting Started with Lazy Loading</strong></p>
<p>There are multiple techniques for implementing lazy loading in React, but we’ll be keeping the scope narrow by focusing on one solution. We’ll be using the React Loadable package to implement lazy loading. Let’s install it by running.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">npm install react-loadable</code></pre></div>
<p>Our application looks like this at the moment.</p>
<p><img src="https://steemitimages.com/DQmWywGeRctskP1jnvNAQmsmQyh44uDRHLKSzot46q8SFgE/fireliners-index.png" alt="fireliners-index.png"></p>
<p>From the view we see at the moment, our app could really benefit from being able to create a new quote. Let’s add a route to the app that displays a short form that allows us to create a new quote. To do this, we’d need to setup routing for our app. We can do this by installing the <code class="language-text">react-router-dom</code> package.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">npm install react-router-dom</code></pre></div>
<p>Once our installation is completed, it’s time to refactor our code to take advantage of the router. We can do that by first rearranging our project structure. We’ll be aiming for the below project structure. The changes to the project structure are indicated in bold and italicized text.</p>
<ul>
<li>
<p><strong>fire-liners/</strong></p>
<ul>
<li>config/…</li>
<li>node_modules/…</li>
<li>public/…</li>
<li>scripts/…</li>
<li><strong>src/</strong></li>
<li>
<p>components/</p>
<ul>
<li>Header/</li>
<li>index.js</li>
<li>logo.svg</li>
</ul>
</li>
<li>
<p>containers/</p>
<ul>
<li>App/</li>
<li>App.test.js</li>
<li>index.js</li>
</ul>
</li>
<li>
<p><em><strong>screens</strong></em>/</p>
<ul>
<li><strong>Home</strong> /</li>
<li><em>index.js</em></li>
<li><strong>Loading</strong> /</li>
<li><em>index.js</em></li>
</ul>
</li>
<li>registerServiceWorker.js</li>
<li>package.json</li>
</ul>
</li>
</ul>
<p>As you can see, we added the <code class="language-text">screens</code> directory to house our screens. Screens contain the components that our routes map to. We also added the <code class="language-text">Home</code> and <code class="language-text">Loading</code> screens.</p>
<p>Next, we’ll refactor our <code class="language-text">src/containers/App</code>. We’ll be adding our routes here. We’ll also be using <code class="language-text">react-loadable</code> to lazy load our routes. We first start by importing our dependencies. We import the <code class="language-text">Router</code> and <code class="language-text">Route</code>. We also import the loading screen we’ll be working on soon.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span>
<span class="token keyword">import</span> Loadable <span class="token keyword">from</span> <span class="token string">"react-loadable"</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserRouter <span class="token keyword">as</span> Router<span class="token punctuation">,</span> Route <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react-router-dom"</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ThemeProvider<span class="token punctuation">,</span> Flex <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"pcln-design-system"</span>
<span class="token keyword">import</span> Header <span class="token keyword">from</span> <span class="token string">"../../components/Header"</span>
<span class="token keyword">import</span> AppLoadingScreen <span class="token keyword">from</span> <span class="token string">"../../screens/Loading"</span></code></pre></div>
<p>We now have to import the <code class="language-text">Home</code> screen and make a lazy loaded component out of it as that’s the first screen our users get to see. We’ll be using two React components that we’re yet to create (<code class="language-text">HomeScreen</code> and <code class="language-text">AppLoadingScreen</code>). We’ll also be setting a maximum delay of 200 miliseconds on the request within which a user may retry the request.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> LoadableHomeScreen <span class="token operator">=</span> <span class="token function">Loadable</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">loader</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"../../screens/Home"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  loading<span class="token operator">:</span> AppLoadingScreen<span class="token punctuation">,</span>
  delay<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>Then we update our <code class="language-text">App</code> class. We make sure to use a flex container that covers the whole screen. In our <code class="language-text">Router</code> component, we pass <code class="language-text">LoadableHomeScreen</code> to respond to requests to the <code class="language-text">/</code> route.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>ThemeProvider<span class="token operator">></span>
        <span class="token operator">&lt;</span>Flex
          flexDirection<span class="token operator">=</span><span class="token string">"column"</span>
          className<span class="token operator">=</span><span class="token string">"App"</span>
          style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> minHeight<span class="token operator">:</span> <span class="token string">"100vh"</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
        <span class="token operator">></span>
          <span class="token operator">&lt;</span>Header <span class="token operator">/</span><span class="token operator">></span>
          <span class="token operator">&lt;</span>Router<span class="token operator">></span>
            <span class="token operator">&lt;</span>Route exact path<span class="token operator">=</span><span class="token string">"/"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>LoadableHomeScreen<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>Router<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Flex<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ThemeProvider<span class="token operator">></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>We’ll move some of our previous code to the home screen component. Edit <code class="language-text">src/screens/Home/index.js</code> and add these dependencies.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react"</span>
<span class="token keyword">import</span> styled <span class="token keyword">from</span> <span class="token string">"styled-components"</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Box<span class="token punctuation">,</span> Flex<span class="token punctuation">,</span> Link<span class="token punctuation">,</span> Text <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"pcln-design-system"</span>

<span class="token keyword">const</span> Circle <span class="token operator">=</span> <span class="token function">styled</span><span class="token punctuation">(</span>Box<span class="token punctuation">)</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  border-radius: 100%;
  width: 60px;
  height: 60px;
  display: inline-block;
</span><span class="token template-punctuation string">`</span></span></code></pre></div>
<p>We then simply move our old code that used to live in the <code class="language-text">App</code> component to the <code class="language-text">render</code> method.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>Flex justify<span class="token operator">=</span><span class="token string">"center"</span> alignItems<span class="token operator">=</span><span class="token string">"center"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>Box width<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0.9</span><span class="token punctuation">,</span> <span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token number">0.6</span><span class="token punctuation">]</span><span class="token punctuation">}</span> p<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token operator">></span>
          <span class="token operator">&lt;</span>Text fontSize<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span> mb<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span> bold<span class="token operator">></span>
            Recent Quotes
          <span class="token operator">&lt;</span><span class="token operator">/</span>Text<span class="token operator">></span>
          <span class="token punctuation">{</span>liners<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">liner</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>Box key<span class="token operator">=</span><span class="token punctuation">{</span>liner<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">></span>
              <span class="token operator">&lt;</span>Flex bg<span class="token operator">=</span><span class="token string">"lightGray"</span> style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> borderRadius<span class="token operator">:</span> <span class="token string">"4px"</span> <span class="token punctuation">}</span><span class="token punctuation">}</span> p<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span> mb<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token operator">></span>
                <span class="token operator">&lt;</span>Flex width<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token operator">></span>
                  <span class="token operator">&lt;</span>Circle bg<span class="token operator">=</span><span class="token string">"gray"</span> mr<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>Circle<span class="token operator">></span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>Flex<span class="token operator">></span>
                <span class="token operator">&lt;</span>Flex flexDirection<span class="token operator">=</span><span class="token string">"column"</span> width<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token operator">></span>
                  <span class="token operator">&lt;</span>Text mb<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span> width<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span> italic fontSize<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token operator">></span>
                    <span class="token punctuation">{</span>liner<span class="token punctuation">.</span>body<span class="token punctuation">}</span>
                  <span class="token operator">&lt;</span><span class="token operator">/</span>Text<span class="token operator">></span>
                  <span class="token operator">&lt;</span>Link href<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"/authors/"</span> <span class="token operator">+</span> liner<span class="token punctuation">.</span>author<span class="token punctuation">}</span><span class="token operator">></span>
                    <span class="token operator">&lt;</span>Text fontSize<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span> mb<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span> color<span class="token operator">=</span><span class="token string">"gray"</span> align<span class="token operator">=</span><span class="token string">"right"</span> bold<span class="token operator">></span>
                      <span class="token punctuation">{</span>liner<span class="token punctuation">.</span>author<span class="token punctuation">}</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>Text<span class="token operator">></span>
                  <span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>Flex<span class="token operator">></span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>Flex<span class="token operator">></span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>Box<span class="token operator">></span>
          <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Box<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Flex<span class="token operator">></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Home</code></pre></div>
<p>Let’s create a loading screen that we’ll be reusing through out the app. Edit <code class="language-text">src/screens/Loading/index.js</code> and add some code. We’ll be displaying a simple message on a light yellow background. In the future we could have something more elaborate.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Flex<span class="token punctuation">,</span> Text <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"pcln-design-system"</span>

<span class="token keyword">const</span> <span class="token function-variable function">AppLoadingScreen</span> <span class="token operator">=</span> <span class="token parameter">props</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>Flex
    style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
      height<span class="token operator">:</span> <span class="token string">"100vh"</span><span class="token punctuation">,</span>
      position<span class="token operator">:</span> <span class="token string">"fixed"</span><span class="token punctuation">,</span>
      top<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      bottom<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      width<span class="token operator">:</span> <span class="token string">"100%"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">}</span>
    bg<span class="token operator">=</span><span class="token string">"lightYellow"</span>
    flexDirection<span class="token operator">=</span><span class="token string">"column"</span>
    align<span class="token operator">=</span><span class="token string">"center"</span>
    justify<span class="token operator">=</span><span class="token string">"center"</span>
  <span class="token operator">></span>
    <span class="token operator">&lt;</span>Text bold<span class="token operator">></span>Whipping up Awesomeness<span class="token operator">...</span><span class="token operator">&lt;</span><span class="token operator">/</span>Text<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>Flex<span class="token operator">></span>
<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> AppLoadingScreen</code></pre></div>
<p>If we save and refresh our browser, we get a loading screen before our app comes up, so we know we’ve successfully lazy loaded our <code class="language-text">Home</code> component. Let’s hop over to the developer panel in the Chrome browser by pressing <code class="language-text">F12</code> on your keyboard and we’ll switch to the network tab. We should see the below screen indicating that we made three requests for JS resources (<code class="language-text">app.bundle.js</code>, <code class="language-text">vendor.bundle.js</code> and <code class="language-text">2.js</code>). Inspecting <code class="language-text">2.js</code> closely, we see that it contains the home component separated from the other code.</p>
<p><img src="https://steemitimages.com/DQmPEEW4rSTAGWMWPxJmR1hQcE2KjjN2YHCLnRztRVpCpLP/Lazy-Load-Developers-Panel.png" alt="Lazy-Load-Developers-Panel.png"></p>
<p>Let’s apply what we learnt to the <code class="language-text">AddLineScreen</code> we’ll be creating soon. Create <code class="language-text">src/screens/AddLine/index.js</code> and we’ll add some code to it. We’re leveraging the idea of responsive sizes for our <code class="language-text">Flex</code> element. We’re displaying a simple form with an input field and a text area. Our <code class="language-text">Textarea</code> component doesn’t exist yet, we’ll create it as a custom component soon.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react"</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Box<span class="token punctuation">,</span> Flex<span class="token punctuation">,</span> Input<span class="token punctuation">,</span> Label<span class="token punctuation">,</span> RedButton<span class="token punctuation">,</span> Text <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"pcln-design-system"</span>
<span class="token keyword">import</span> Textarea <span class="token keyword">from</span> <span class="token string">"../../components/Form/Textarea"</span>

<span class="token keyword">class</span> <span class="token class-name">AddLine</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>Flex mt<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">}</span> justify<span class="token operator">=</span><span class="token string">"center"</span> alignItems<span class="token operator">=</span><span class="token string">"center"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>Flex flexDirection<span class="token operator">=</span><span class="token string">"column"</span> width<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token operator">></span>
          <span class="token operator">&lt;</span>Text bold mb<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span> fontSize<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token operator">></span>
            Add<span class="token punctuation">.</span> The Dopest Lines<span class="token punctuation">.</span> Ever<span class="token punctuation">.</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>Text<span class="token operator">></span>
          <span class="token operator">&lt;</span>Box mb<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token operator">></span>
            <span class="token operator">&lt;</span>Flex flexDirection<span class="token operator">=</span><span class="token string">"column"</span> mb<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token operator">></span>
              <span class="token operator">&lt;</span>Label mb<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token operator">></span>Author<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">></span>
              <span class="token operator">&lt;</span>Input id<span class="token operator">=</span><span class="token string">"author"</span> placeholder<span class="token operator">=</span><span class="token string">"Which cat dropped this line?"</span> <span class="token operator">/</span><span class="token operator">></span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>Flex<span class="token operator">></span>

            <span class="token operator">&lt;</span>Flex flexDirection<span class="token operator">=</span><span class="token string">"column"</span> mb<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token operator">></span>
              <span class="token operator">&lt;</span>Label mb<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token operator">></span>Lyrics<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">></span>
              <span class="token operator">&lt;</span>Textarea
                rows<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">7</span><span class="token punctuation">}</span>
                placeholder<span class="token operator">=</span><span class="token string">"Spit that line here, dawg..."</span>
              <span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>Textarea<span class="token operator">></span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>Flex<span class="token operator">></span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>Box<span class="token operator">></span>
          <span class="token operator">&lt;</span>RedButton<span class="token operator">></span>Save and go back<span class="token operator">&lt;</span><span class="token operator">/</span>RedButton<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Flex<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Flex<span class="token operator">></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> AddLine</code></pre></div>
<p>Since we have more than two routes to deal with now, we better refactor our code or React will scream at us. Open up <code class="language-text">src/index.js</code> and set it up to wrap our root <code class="language-text">App</code> component in the React router.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">"react-dom"</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserRouter <span class="token keyword">as</span> Router <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react-router-dom"</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">"./containers/App"</span>
<span class="token keyword">import</span> registerServiceWorker <span class="token keyword">from</span> <span class="token string">"./registerServiceWorker"</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>Router<span class="token operator">></span>
    <span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>Router<span class="token operator">></span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span></code></pre></div>
<p>Next, we’ll add the <code class="language-text">AddLine</code> component as a lazy loadable component in <code class="language-text">src/containers/App/index</code>.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> LoadableAddLineScreen <span class="token operator">=</span> <span class="token function">Loadable</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">loader</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"../../screens/AddLine"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  loading<span class="token operator">:</span> AppLoadingScreen<span class="token punctuation">,</span>
  delay<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>In the <code class="language-text">render</code> method of the <code class="language-text">App</code> class, we’ll register the route</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/add"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>LoadableAddLineScreen<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span></code></pre></div>
<h4 id="creating-our-first-custom-component" style="position:relative;"><a href="#creating-our-first-custom-component" aria-label="creating our first custom component permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Creating our First Custom Component</h4>
<p>In our <code class="language-text">AddLine</code> class, we imported the <code class="language-text">Textarea</code> class which we are yet to create. Let’s handle that now. Create <code class="language-text">src/components/Form/Textarea.js</code> and we’ll get started. First, we import our dependencies. We are using the <code class="language-text">space</code> and <code class="language-text">theme</code> methods from styled system. This will give us access to the default spacings and theme setting that come with styled system.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span>
<span class="token keyword">import</span> styled <span class="token keyword">from</span> <span class="token string">"styled-components"</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> space<span class="token punctuation">,</span> theme <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"styled-system"</span></code></pre></div>
<p>Next, we do something of great importance, we define a function that returns the styles for the borders that will surround our Text box. This function also accepts the <code class="language-text">color</code> and <code class="language-text">theme</code> objects and makes them accessible to us. We also write code that provide defaults in the event that the function received no arguments. We then return an object with our styles intact.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">borders</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> color<span class="token punctuation">,</span> theme <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> borderColor <span class="token operator">=</span> color <span class="token operator">?</span> theme<span class="token punctuation">.</span>colors<span class="token punctuation">[</span>color<span class="token punctuation">]</span> <span class="token operator">:</span> theme<span class="token punctuation">.</span>colors<span class="token punctuation">.</span>borderGray
  <span class="token keyword">const</span> focusColor <span class="token operator">=</span> color <span class="token operator">?</span> borderColor <span class="token operator">:</span> theme<span class="token punctuation">.</span>colors<span class="token punctuation">.</span>gray
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token string">"border-color"</span><span class="token operator">:</span> borderColor<span class="token punctuation">,</span>
    <span class="token string">"box-shadow"</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">0 0 0 1px </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>borderColor<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token string">":focus"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      outline<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string">"border-color"</span><span class="token operator">:</span> focusColor<span class="token punctuation">,</span>
      <span class="token string">"box-shadow"</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">0 0 0 2px </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>focusColor<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Next, we define the styles for our Textarea in a new ES6 proposal called ‘tagged template literals’. We write regular CSS here except for the <code class="language-text">theme</code> function calls. Calling the <code class="language-text">theme</code> method with an argument here will return a value.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> Textarea <span class="token operator">=</span> <span class="token function">styled</span><span class="token punctuation">(</span><span class="token string">"textarea"</span><span class="token punctuation">)</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  appearance: none;
  display: block;
  width: 100%;
  font-family: inherit;
  color: inherit;
  font-size: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">theme</span><span class="token punctuation">(</span><span class="token string">"fontSizes.1"</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px;
  background-color: transparent;
  border-radius: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">theme</span><span class="token punctuation">(</span><span class="token string">"radius"</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;
  border-width: 0px;
  border-style: solid;
  border-color: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">theme</span><span class="token punctuation">(</span><span class="token string">"colors.borderGray"</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;

  padding-top: 14px;
  padding-bottom: 14px;
  padding-left: 12px;
  padding-right: 12px;

  margin: 0;

  ::placeholder {
    color: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">theme</span><span class="token punctuation">(</span><span class="token string">"colors.gray"</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;
  }

  ::-ms-clear {
    display: none;
  }

  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>borders<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>space<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;
</span><span class="token template-punctuation string">`</span></span></code></pre></div>
<p>Fire up your browser and head to <code class="language-text">http://localhost:3000/add</code> and you should see a screen like the one below.</p>
<p><img src="https://steemitimages.com/DQmbvMs3kTvFpgYiwMwaxehK8LDaCcN5j1PRTK2h1ZXr3qt/Add-Lines-Shot.png" alt="Add Line Screenshot "></p>
<p>Whew! We’ve covered a lot today. With that done, we are through with this installment.</p>
<h4 id="conclusion" style="position:relative;"><a href="#conclusion" aria-label="conclusion permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Conclusion</h4>
<p>In this tutorial, we examined lazy loading code as a viable performance technique. We also created custom styled components with an API that accepts configurations.</p>
<p>In our next tutorial, we’ll setup a proper state management system and we’ll actually use our forms to populate the feed in the index route. Finally, we’ll add functionality that allows us to create new entries for our feed of liners. Don’t miss the next installment for anything.</p>
<h4 id="resources" style="position:relative;"><a href="#resources" aria-label="resources permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Resources</h4>
<ul>
<li><a href="https://github.com/creatrixity/fire-liners" target="_blank" rel="nofollow noopener noreferrer">FireLiners Github Code</a></li>
<li><a href="https://github.com/jamiebuilds/react-loadable" target="_blank" rel="nofollow noopener noreferrer">React Loadable Documentation</a></li>
<li><a href="https://reacttraining.com/react-router/web/guides/basic-components" target="_blank" rel="nofollow noopener noreferrer">React Routing Quick Start</a></li>
</ul>
<h4 id="curriculum" style="position:relative;"><a href="#curriculum" aria-label="curriculum permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Curriculum</h4>
<ul>
<li><a href="https://www.kaymathew.com/posts/pt-1-build-a-css-in-js-react-app-with-styled-components-and-priceline-design-system/" target="_blank" rel="nofollow noopener noreferrer">Part 1: Build a CSS-in-JS React App with Styled Components and Priceline Design System</a></li>
</ul></div></div></div><div class="Post-module--post__footer--3WzWU"><div><p class="Meta-module--meta__date--29eD7">Published <!-- -->19 May 2018</p></div><div class="Tags-module--tags--1L_ct"><ul class="Tags-module--tags__list--91FqN"><li class="Tags-module--tags__list-item--1M30P"><a class="Tags-module--tags__list-item-link--3SL_8" href="/tag/javascript/">Javascript</a></li><li class="Tags-module--tags__list-item--1M30P"><a class="Tags-module--tags__list-item-link--3SL_8" href="/tag/react/">React</a></li></ul></div><div class="Author-module--author--2Yefr"><p>Hi there! I&#x27;m a Nigerian software engineer obsessed with building better experiences for users one keystroke at a time.<a class="Author-module--author__bio-twitter--n-O9n" href="https://www.twitter.com/@creatrixity" rel="noopener noreferrer" target="_blank"><strong>Caleb &quot;Kay&quot; Mathew</strong> on Twitter</a></p></div></div><div class="Post-module--post__comments--25y6I"></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/pt-2-build-a-css-in-js-react-app-with-styled-components-and-priceline-design-system/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-f8d6bc3f3d1ba44ac510.js"],"app":["/app-bfb28f4816626504eedd.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-fd4fb51a6fac1c18bdde.js"],"component---src-templates-categories-list-template-js":["/component---src-templates-categories-list-template-js-2181ec47d28e5c35d3e9.js"],"component---src-templates-category-template-js":["/component---src-templates-category-template-js-5aae539c8196fecbba8d.js"],"component---src-templates-index-template-js":["/component---src-templates-index-template-js-05fc9723794f32b59bfd.js"],"component---src-templates-not-found-template-js":["/component---src-templates-not-found-template-js-658f4507169e2836a377.js"],"component---src-templates-page-template-js":["/component---src-templates-page-template-js-e5d26cb3d79d752d51d9.js"],"component---src-templates-post-template-js":["/component---src-templates-post-template-js-ec77146d0cf71b2b963c.js"],"component---src-templates-tag-template-js":["/component---src-templates-tag-template-js-fb68c7b5b7b042469c6b.js"],"component---src-templates-tags-list-template-js":["/component---src-templates-tags-list-template-js-2d7007993fc2bf0f9caf.js"]};/*]]>*/</script><script src="/polyfill-f8d6bc3f3d1ba44ac510.js" nomodule=""></script><script src="/component---src-templates-post-template-js-ec77146d0cf71b2b963c.js" async=""></script><script src="/643651a62fb35a9bb4f20061cb1f214a352d7976-aa8c016fcb5d24453301.js" async=""></script><script src="/cd95ea5cbd2c605f26db819f07999610c9ff4310-dad06fceb22da7c71227.js" async=""></script><script src="/styles-407fe62976dc5310c43e.js" async=""></script><script src="/app-bfb28f4816626504eedd.js" async=""></script><script src="/532a2f07-92db97c0addf07d5cb73.js" async=""></script><script src="/framework-b17a64ad725e0b3c1338.js" async=""></script><script src="/webpack-runtime-6e8f4530e65e044697da.js" async=""></script></body></html>